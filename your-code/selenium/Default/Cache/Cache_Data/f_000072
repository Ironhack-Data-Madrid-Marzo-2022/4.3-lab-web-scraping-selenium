{"version":3,"sources":["node_modules/@github/file-attachment-element/dist/index.js","node_modules/@primer/view-components/app/components/primer/clipboard_copy_component.js","node_modules/@github/image-crop-element/dist/index.js","node_modules/@github/details-menu-element/dist/index.js","node_modules/@primer/view-components/node_modules/@primer/behaviors/dist/esm/anchored-position.js","node_modules/@primer/view-components/app/components/primer/alpha/tooltip.js","node_modules/@github/auto-check-element/dist/index.js","node_modules/@github/details-dialog-element/dist/index.js","node_modules/@github/g-emoji-element/dist/index.js","node_modules/@github/markdown-toolbar-element/dist/index.js","node_modules/@github/task-lists-element/dist/task-lists-element.js","node_modules/@github/text-expander-element/dist/index.js","node_modules/@github/typing-effect-element/dist/index.js"],"names":[],"mappings":"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UAAU,WAClD,EAAY,cAAc,KAAK,UAAU,WACzC,EAAU,YAAY,KAAK,UAAU,YAAc,CAAC,cAAc,KAAK,UAAU,WACvF,MAAO,CAAE,IAAc,GAAc,GAAe,GAAW,GAN1D,yBAST,KAAM,GAAY,GAAI,KAAI,CACtB,YACA,YACA,kBACA,SACA,YACA,YACA,YACA,eACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,eACA,YACA,YACA,SACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,eACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,8BACA,2BACA,2BACA,2BACA,2BACA,YACA,8BACA,2BACA,2BACA,2BACA,2BACA,YACA,YACA,YACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,8BACA,8BACA,2BACA,2BACA,2BACA,2BACA,8BACA,8BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,8BACA,8BACA,2BACA,2BACA,2BACA,2BACA,YACA,8BACA,8BACA,kBACA,oCACA,oCACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,YACA,YACA,8BACA,8BACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,2BACA,2BACA,2BACA,2BACA,2B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","file":"8475-xxxxxxxxxxxx.js","sourcesContent":["class Attachment {\n    constructor(file, directory) {\n        this.file = file;\n        this.directory = directory;\n        this.state = 'pending';\n        this.id = null;\n        this.href = null;\n        this.name = null;\n        this.percent = 0;\n    }\n    static traverse(transfer, directory) {\n        return transferredFiles(transfer, directory);\n    }\n    static from(files) {\n        const result = [];\n        for (const file of files) {\n            if (file instanceof File) {\n                result.push(new Attachment(file));\n            }\n            else if (file instanceof Attachment) {\n                result.push(file);\n            }\n            else {\n                throw new Error('Unexpected type');\n            }\n        }\n        return result;\n    }\n    get fullPath() {\n        return this.directory ? `${this.directory}/${this.file.name}` : this.file.name;\n    }\n    isImage() {\n        return ['image/gif', 'image/png', 'image/jpg', 'image/jpeg', 'image/svg+xml'].indexOf(this.file.type) > -1;\n    }\n    isVideo() {\n        return ['video/mp4', 'video/quicktime'].indexOf(this.file.type) > -1;\n    }\n    saving(percent) {\n        if (this.state !== 'pending' && this.state !== 'saving') {\n            throw new Error(`Unexpected transition from ${this.state} to saving`);\n        }\n        this.state = 'saving';\n        this.percent = percent;\n    }\n    saved(attributes) {\n        var _a, _b, _c;\n        if (this.state !== 'pending' && this.state !== 'saving') {\n            throw new Error(`Unexpected transition from ${this.state} to saved`);\n        }\n        this.state = 'saved';\n        this.id = (_a = attributes === null || attributes === void 0 ? void 0 : attributes.id) !== null && _a !== void 0 ? _a : null;\n        this.href = (_b = attributes === null || attributes === void 0 ? void 0 : attributes.href) !== null && _b !== void 0 ? _b : null;\n        this.name = (_c = attributes === null || attributes === void 0 ? void 0 : attributes.name) !== null && _c !== void 0 ? _c : null;\n    }\n    isPending() {\n        return this.state === 'pending';\n    }\n    isSaving() {\n        return this.state === 'saving';\n    }\n    isSaved() {\n        return this.state === 'saved';\n    }\n}\nfunction transferredFiles(transfer, directory) {\n    if (directory && isDirectory(transfer)) {\n        return traverse('', roots(transfer));\n    }\n    return Promise.resolve(visible(Array.from(transfer.files || [])).map(f => new Attachment(f)));\n}\nfunction hidden(file) {\n    return file.name.startsWith('.');\n}\nfunction visible(files) {\n    return Array.from(files).filter(file => !hidden(file));\n}\nfunction getFile(entry) {\n    return new Promise(function (resolve, reject) {\n        entry.file(resolve, reject);\n    });\n}\nfunction getEntries(entry) {\n    return new Promise(function (resolve, reject) {\n        const result = [];\n        const reader = entry.createReader();\n        const read = () => {\n            reader.readEntries(entries => {\n                if (entries.length > 0) {\n                    result.push(...entries);\n                    read();\n                }\n                else {\n                    resolve(result);\n                }\n            }, reject);\n        };\n        read();\n    });\n}\nasync function traverse(path, entries) {\n    const results = [];\n    for (const entry of visible(entries)) {\n        if (entry.isDirectory) {\n            results.push(...(await traverse(entry.fullPath, await getEntries(entry))));\n        }\n        else {\n            const file = await getFile(entry);\n            results.push(new Attachment(file, path));\n        }\n    }\n    return results;\n}\nfunction isDirectory(transfer) {\n    return (transfer.items &&\n        Array.from(transfer.items).some((item) => {\n            const entry = item.webkitGetAsEntry && item.webkitGetAsEntry();\n            return entry && entry.isDirectory;\n        }));\n}\nfunction roots(transfer) {\n    return Array.from(transfer.items)\n        .map((item) => item.webkitGetAsEntry())\n        .filter(entry => entry != null);\n}\n\nclass FileAttachmentElement extends HTMLElement {\n    connectedCallback() {\n        this.addEventListener('dragenter', onDragenter);\n        this.addEventListener('dragover', onDragenter);\n        this.addEventListener('dragleave', onDragleave);\n        this.addEventListener('drop', onDrop);\n        this.addEventListener('paste', onPaste);\n        this.addEventListener('change', onChange);\n    }\n    disconnectedCallback() {\n        this.removeEventListener('dragenter', onDragenter);\n        this.removeEventListener('dragover', onDragenter);\n        this.removeEventListener('dragleave', onDragleave);\n        this.removeEventListener('drop', onDrop);\n        this.removeEventListener('paste', onPaste);\n        this.removeEventListener('change', onChange);\n    }\n    get directory() {\n        return this.hasAttribute('directory');\n    }\n    set directory(value) {\n        if (value) {\n            this.setAttribute('directory', '');\n        }\n        else {\n            this.removeAttribute('directory');\n        }\n    }\n    async attach(transferred) {\n        const attachments = transferred instanceof DataTransfer\n            ? await Attachment.traverse(transferred, this.directory)\n            : Attachment.from(transferred);\n        const accepted = this.dispatchEvent(new CustomEvent('file-attachment-accept', {\n            bubbles: true,\n            cancelable: true,\n            detail: { attachments }\n        }));\n        if (accepted && attachments.length) {\n            this.dispatchEvent(new CustomEvent('file-attachment-accepted', {\n                bubbles: true,\n                detail: { attachments }\n            }));\n        }\n    }\n}\nfunction hasFile(transfer) {\n    return Array.from(transfer.types).indexOf('Files') >= 0;\n}\nlet dragging = null;\nfunction onDragenter(event) {\n    const target = event.currentTarget;\n    if (dragging) {\n        clearTimeout(dragging);\n    }\n    dragging = window.setTimeout(() => target.removeAttribute('hover'), 200);\n    const transfer = event.dataTransfer;\n    if (!transfer || !hasFile(transfer))\n        return;\n    transfer.dropEffect = 'copy';\n    target.setAttribute('hover', '');\n    event.preventDefault();\n}\nfunction onDragleave(event) {\n    if (event.dataTransfer) {\n        event.dataTransfer.dropEffect = 'none';\n    }\n    const target = event.currentTarget;\n    target.removeAttribute('hover');\n    event.stopPropagation();\n    event.preventDefault();\n}\nfunction onDrop(event) {\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    container.removeAttribute('hover');\n    const transfer = event.dataTransfer;\n    if (!transfer || !hasFile(transfer))\n        return;\n    container.attach(transfer);\n    event.stopPropagation();\n    event.preventDefault();\n}\nconst images = /^image\\/(gif|png|jpeg)$/;\nfunction pastedFile(items) {\n    for (const item of items) {\n        if (item.kind === 'file' && images.test(item.type)) {\n            return item.getAsFile();\n        }\n    }\n    return null;\n}\nfunction onPaste(event) {\n    if (!event.clipboardData)\n        return;\n    if (!event.clipboardData.items)\n        return;\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    const file = pastedFile(event.clipboardData.items);\n    if (!file)\n        return;\n    const files = [file];\n    container.attach(files);\n    event.preventDefault();\n}\nfunction onChange(event) {\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    const input = event.target;\n    if (!(input instanceof HTMLInputElement))\n        return;\n    const id = container.getAttribute('input');\n    if (id && input.id !== id)\n        return;\n    const files = input.files;\n    if (!files || files.length === 0)\n        return;\n    container.attach(files);\n    input.value = '';\n}\nif (!window.customElements.get('file-attachment')) {\n    window.FileAttachmentElement = FileAttachmentElement;\n    window.customElements.define('file-attachment', FileAttachmentElement);\n}\n\nexport default FileAttachmentElement;\nexport { Attachment };\n","import '@github/clipboard-copy-element';\nconst CLIPBOARD_COPY_TIMER_DURATION = 2000;\nfunction showSVG(svg) {\n    svg.style.display = 'inline-block';\n}\nfunction hideSVG(svg) {\n    svg.style.display = 'none';\n}\n// Toggle a copy button.\nfunction showCopy(button) {\n    const [copyIcon, checkIcon] = button.querySelectorAll('.octicon');\n    if (!copyIcon || !checkIcon)\n        return;\n    showSVG(copyIcon);\n    hideSVG(checkIcon);\n}\n// Toggle a copy button.\nfunction showCheck(button) {\n    const [copyIcon, checkIcon] = button.querySelectorAll('.octicon');\n    if (!copyIcon || !checkIcon)\n        return;\n    hideSVG(copyIcon);\n    showSVG(checkIcon);\n}\nconst clipboardCopyElementTimers = new WeakMap();\ndocument.addEventListener('clipboard-copy', function ({ target }) {\n    if (!(target instanceof HTMLElement))\n        return;\n    if (!target.hasAttribute('data-view-component'))\n        return;\n    const currentTimeout = clipboardCopyElementTimers.get(target);\n    if (currentTimeout) {\n        clearTimeout(currentTimeout);\n        clipboardCopyElementTimers.delete(target);\n    }\n    else {\n        showCheck(target);\n    }\n    clipboardCopyElementTimers.set(target, setTimeout(() => {\n        showCopy(target);\n        clipboardCopyElementTimers.delete(target);\n    }, CLIPBOARD_COPY_TIMER_DURATION));\n});\n","const startPositions = new WeakMap();\nconst dragStartPositions = new WeakMap();\nconst constructedElements = new WeakMap();\nfunction moveCropArea(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box, image } = constructedElements.get(el) || {};\n    if (!box || !image)\n        return;\n    let deltaX = 0;\n    let deltaY = 0;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'ArrowUp') {\n            deltaY = -1;\n        }\n        else if (event.key === 'ArrowDown') {\n            deltaY = 1;\n        }\n        else if (event.key === 'ArrowLeft') {\n            deltaX = -1;\n        }\n        else if (event.key === 'ArrowRight') {\n            deltaX = 1;\n        }\n    }\n    else if (dragStartPositions.has(el) && event instanceof MouseEvent) {\n        const pos = dragStartPositions.get(el);\n        deltaX = event.pageX - pos.dragStartX;\n        deltaY = event.pageY - pos.dragStartY;\n    }\n    else if (dragStartPositions.has(el) && event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        const { dragStartX, dragStartY } = dragStartPositions.get(el);\n        deltaX = pageX - dragStartX;\n        deltaY = pageY - dragStartY;\n    }\n    if (deltaX !== 0 || deltaY !== 0) {\n        const x = Math.min(Math.max(0, box.offsetLeft + deltaX), image.width - box.offsetWidth);\n        const y = Math.min(Math.max(0, box.offsetTop + deltaY), image.height - box.offsetHeight);\n        box.style.left = `${x}px`;\n        box.style.top = `${y}px`;\n        fireChangeEvent(el, { x, y, width: box.offsetWidth, height: box.offsetHeight });\n    }\n    if (event instanceof MouseEvent) {\n        dragStartPositions.set(el, {\n            dragStartX: event.pageX,\n            dragStartY: event.pageY\n        });\n    }\n    else if (event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        dragStartPositions.set(el, {\n            dragStartX: pageX,\n            dragStartY: pageY\n        });\n    }\n}\nfunction updateCropArea(event) {\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    const el = getShadowHost(target);\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const rect = el.getBoundingClientRect();\n    let deltaX, deltaY, delta;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'Escape')\n            return setInitialPosition(el);\n        if (event.key === '-')\n            delta = -10;\n        if (event.key === '=')\n            delta = +10;\n        if (!delta)\n            return;\n        deltaX = box.offsetWidth + delta;\n        deltaY = box.offsetHeight + delta;\n        startPositions.set(el, { startX: box.offsetLeft, startY: box.offsetTop });\n    }\n    else if (event instanceof MouseEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    else if (event instanceof TouchEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.changedTouches[0].pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.changedTouches[0].pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    if (deltaX && deltaY)\n        updateDimensions(el, deltaX, deltaY, !(event instanceof KeyboardEvent));\n}\nfunction getShadowHost(el) {\n    const rootNode = el.getRootNode();\n    if (!(rootNode instanceof ShadowRoot))\n        return el;\n    return rootNode.host;\n}\nfunction startUpdate(event) {\n    const currentTarget = event.currentTarget;\n    if (!(currentTarget instanceof HTMLElement))\n        return;\n    const el = getShadowHost(currentTarget);\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    if (target.hasAttribute('data-direction')) {\n        const direction = target.getAttribute('data-direction') || '';\n        el.addEventListener('mousemove', updateCropArea);\n        el.addEventListener('touchmove', updateCropArea, { passive: true });\n        if (['nw', 'se'].indexOf(direction) >= 0)\n            el.classList.add('nwse');\n        if (['ne', 'sw'].indexOf(direction) >= 0)\n            el.classList.add('nesw');\n        startPositions.set(el, {\n            startX: box.offsetLeft + (['se', 'ne'].indexOf(direction) >= 0 ? 0 : box.offsetWidth),\n            startY: box.offsetTop + (['se', 'sw'].indexOf(direction) >= 0 ? 0 : box.offsetHeight)\n        });\n        updateCropArea(event);\n    }\n    else {\n        el.addEventListener('mousemove', moveCropArea);\n        el.addEventListener('touchmove', moveCropArea, { passive: true });\n    }\n}\nfunction updateDimensions(target, deltaX, deltaY, reposition = true) {\n    let newSide = Math.max(Math.abs(deltaX), Math.abs(deltaY), 10);\n    const pos = startPositions.get(target);\n    if (!pos)\n        return;\n    const { box, image } = constructedElements.get(target) || {};\n    if (!box || !image)\n        return;\n    newSide = Math.min(newSide, deltaY > 0 ? image.height - pos.startY : pos.startY, deltaX > 0 ? image.width - pos.startX : pos.startX);\n    const x = reposition ? Math.round(Math.max(0, deltaX > 0 ? pos.startX : pos.startX - newSide)) : box.offsetLeft;\n    const y = reposition ? Math.round(Math.max(0, deltaY > 0 ? pos.startY : pos.startY - newSide)) : box.offsetTop;\n    box.style.left = `${x}px`;\n    box.style.top = `${y}px`;\n    box.style.width = `${newSide}px`;\n    box.style.height = `${newSide}px`;\n    fireChangeEvent(target, { x, y, width: newSide, height: newSide });\n}\nfunction setInitialPosition(el) {\n    const { image } = constructedElements.get(el) || {};\n    if (!image)\n        return;\n    const side = Math.round(image.clientWidth > image.clientHeight ? image.clientHeight : image.clientWidth);\n    startPositions.set(el, {\n        startX: (image.clientWidth - side) / 2,\n        startY: (image.clientHeight - side) / 2\n    });\n    updateDimensions(el, side, side);\n}\nfunction stopUpdate(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    dragStartPositions.delete(el);\n    el.classList.remove('nwse', 'nesw');\n    el.removeEventListener('mousemove', updateCropArea);\n    el.removeEventListener('mousemove', moveCropArea);\n    el.removeEventListener('touchmove', updateCropArea);\n    el.removeEventListener('touchmove', moveCropArea);\n}\nfunction fireChangeEvent(target, result) {\n    const { image } = constructedElements.get(target) || {};\n    if (!image)\n        return;\n    const ratio = image.naturalWidth / image.width;\n    for (const key in result) {\n        const value = Math.round(result[key] * ratio);\n        result[key] = value;\n        const slottedInput = target.querySelector(`[data-image-crop-input='${key}']`);\n        if (slottedInput instanceof HTMLInputElement)\n            slottedInput.value = value.toString();\n    }\n    target.dispatchEvent(new CustomEvent('image-crop-change', { bubbles: true, detail: result }));\n}\nclass ImageCropElement extends HTMLElement {\n    connectedCallback() {\n        if (constructedElements.has(this))\n            return;\n        const shadowRoot = this.attachShadow({ mode: 'open' });\n        shadowRoot.innerHTML = `\n<style>\n  :host { touch-action: none; display: block; }\n  :host(.nesw) { cursor: nesw-resize; }\n  :host(.nwse) { cursor: nwse-resize; }\n  :host(.nesw) .crop-box, :host(.nwse) .crop-box { cursor: inherit; }\n  :host([loaded]) .crop-image { display: block; }\n  :host([loaded]) ::slotted([data-loading-slot]), .crop-image { display: none; }\n\n  .crop-wrapper {\n    position: relative;\n    font-size: 0;\n  }\n  .crop-container {\n    user-select: none;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    position: absolute;\n    overflow: hidden;\n    z-index: 1;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  :host([rounded]) .crop-box {\n    border-radius: 50%;\n    box-shadow: 0 0 0 4000px rgba(0, 0, 0, 0.3);\n  }\n  .crop-box {\n    position: absolute;\n    border: 1px dashed #fff;\n    box-sizing: border-box;\n    cursor: move;\n  }\n\n  :host([rounded]) .crop-outline {\n    outline: none;\n  }\n  .crop-outline {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    outline: 4000px solid rgba(0, 0, 0, .3);\n  }\n\n  .handle { position: absolute; }\n  :host([rounded]) .handle::before { border-radius: 50%; }\n  .handle:before {\n    position: absolute;\n    display: block;\n    padding: 4px;\n    transform: translate(-50%, -50%);\n    content: ' ';\n    background: #fff;\n    border: 1px solid #767676;\n  }\n  .ne { top: 0; right: 0; cursor: nesw-resize; }\n  .nw { top: 0; left: 0; cursor: nwse-resize; }\n  .se { bottom: 0; right: 0; cursor: nwse-resize; }\n  .sw { bottom: 0; left: 0; cursor: nesw-resize; }\n</style>\n<slot></slot>\n<div class=\"crop-wrapper\">\n  <img width=\"100%\" class=\"crop-image\" alt=\"\">\n  <div class=\"crop-container\">\n    <div data-crop-box class=\"crop-box\">\n      <div class=\"crop-outline\"></div>\n      <div data-direction=\"nw\" class=\"handle nw\"></div>\n      <div data-direction=\"ne\" class=\"handle ne\"></div>\n      <div data-direction=\"sw\" class=\"handle sw\"></div>\n      <div data-direction=\"se\" class=\"handle se\"></div>\n    </div>\n  </div>\n</div>\n`;\n        const box = shadowRoot.querySelector('[data-crop-box]');\n        if (!(box instanceof HTMLElement))\n            return;\n        const image = shadowRoot.querySelector('img');\n        if (!(image instanceof HTMLImageElement))\n            return;\n        constructedElements.set(this, { box, image });\n        image.addEventListener('load', () => {\n            this.loaded = true;\n            setInitialPosition(this);\n        });\n        this.addEventListener('mouseleave', stopUpdate);\n        this.addEventListener('touchend', stopUpdate);\n        this.addEventListener('mouseup', stopUpdate);\n        box.addEventListener('mousedown', startUpdate);\n        box.addEventListener('touchstart', startUpdate, { passive: true });\n        this.addEventListener('keydown', moveCropArea);\n        this.addEventListener('keydown', updateCropArea);\n        if (this.src)\n            image.src = this.src;\n    }\n    static get observedAttributes() {\n        return ['src'];\n    }\n    get src() {\n        return this.getAttribute('src');\n    }\n    set src(val) {\n        if (val) {\n            this.setAttribute('src', val);\n        }\n        else {\n            this.removeAttribute('src');\n        }\n    }\n    get loaded() {\n        return this.hasAttribute('loaded');\n    }\n    set loaded(val) {\n        if (val) {\n            this.setAttribute('loaded', '');\n        }\n        else {\n            this.removeAttribute('loaded');\n        }\n    }\n    attributeChangedCallback(attribute, oldValue, newValue) {\n        const { image } = constructedElements.get(this) || {};\n        if (attribute === 'src') {\n            this.loaded = false;\n            if (image)\n                image.src = newValue;\n        }\n    }\n}\nexport default ImageCropElement;\nif (!window.customElements.get('image-crop')) {\n    window.ImageCropElement = ImageCropElement;\n    window.customElements.define('image-crop', ImageCropElement);\n}\n","class DetailsMenuElement extends HTMLElement {\n    get preload() {\n        return this.hasAttribute('preload');\n    }\n    set preload(value) {\n        if (value) {\n            this.setAttribute('preload', '');\n        }\n        else {\n            this.removeAttribute('preload');\n        }\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(value) {\n        this.setAttribute('src', value);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role'))\n            this.setAttribute('role', 'menu');\n        const details = this.parentElement;\n        if (!details)\n            return;\n        const summary = details.querySelector('summary');\n        if (summary) {\n            summary.setAttribute('aria-haspopup', 'menu');\n            if (!summary.hasAttribute('role'))\n                summary.setAttribute('role', 'button');\n        }\n        const subscriptions = [\n            fromEvent(details, 'compositionstart', e => trackComposition(this, e)),\n            fromEvent(details, 'compositionend', e => trackComposition(this, e)),\n            fromEvent(details, 'click', e => shouldCommit(details, e)),\n            fromEvent(details, 'change', e => shouldCommit(details, e)),\n            fromEvent(details, 'keydown', e => keydown(details, this, e)),\n            fromEvent(details, 'toggle', () => loadFragment(details, this), { once: true }),\n            fromEvent(details, 'toggle', () => closeCurrentMenu(details)),\n            this.preload\n                ? fromEvent(details, 'mouseover', () => loadFragment(details, this), { once: true })\n                : NullSubscription,\n            ...focusOnOpen(details)\n        ];\n        states.set(this, { subscriptions, loaded: false, isComposing: false });\n    }\n    disconnectedCallback() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        states.delete(this);\n        for (const sub of state.subscriptions) {\n            sub.unsubscribe();\n        }\n    }\n}\nconst states = new WeakMap();\nconst NullSubscription = {\n    unsubscribe() {\n    }\n};\nfunction fromEvent(target, eventName, onNext, options = false) {\n    target.addEventListener(eventName, onNext, options);\n    return {\n        unsubscribe: () => {\n            target.removeEventListener(eventName, onNext, options);\n        }\n    };\n}\nfunction loadFragment(details, menu) {\n    const src = menu.getAttribute('src');\n    if (!src)\n        return;\n    const state = states.get(menu);\n    if (!state)\n        return;\n    if (state.loaded)\n        return;\n    state.loaded = true;\n    const loader = menu.querySelector('include-fragment');\n    if (loader && !loader.hasAttribute('src')) {\n        loader.addEventListener('loadend', () => autofocus(details));\n        loader.setAttribute('src', src);\n    }\n}\nfunction focusOnOpen(details) {\n    let isMouse = false;\n    const onmousedown = () => (isMouse = true);\n    const onkeydown = () => (isMouse = false);\n    const ontoggle = () => {\n        if (!details.hasAttribute('open'))\n            return;\n        if (autofocus(details))\n            return;\n        if (!isMouse)\n            focusFirstItem(details);\n    };\n    return [\n        fromEvent(details, 'mousedown', onmousedown),\n        fromEvent(details, 'keydown', onkeydown),\n        fromEvent(details, 'toggle', ontoggle)\n    ];\n}\nfunction closeCurrentMenu(details) {\n    if (!details.hasAttribute('open'))\n        return;\n    for (const menu of document.querySelectorAll('details[open] > details-menu')) {\n        const opened = menu.closest('details');\n        if (opened && opened !== details && !opened.contains(details)) {\n            opened.removeAttribute('open');\n        }\n    }\n}\nfunction autofocus(details) {\n    if (!details.hasAttribute('open'))\n        return false;\n    const input = details.querySelector('details-menu [autofocus]');\n    if (input) {\n        input.focus();\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction focusFirstItem(details) {\n    const selected = document.activeElement;\n    if (selected && isMenuItem(selected) && details.contains(selected))\n        return;\n    const target = sibling(details, true);\n    if (target)\n        target.focus();\n}\nfunction sibling(details, next) {\n    const options = Array.from(details.querySelectorAll('[role^=\"menuitem\"]:not([hidden]):not([disabled]):not([aria-disabled=\"true\"])'));\n    const selected = document.activeElement;\n    const index = selected instanceof HTMLElement ? options.indexOf(selected) : -1;\n    const found = next ? options[index + 1] : options[index - 1];\n    const def = next ? options[0] : options[options.length - 1];\n    return found || def;\n}\nconst ctrlBindings = navigator.userAgent.match(/Macintosh/);\nfunction shouldCommit(details, event) {\n    const target = event.target;\n    if (!(target instanceof Element))\n        return;\n    if (target.closest('details') !== details)\n        return;\n    if (event.type === 'click') {\n        const menuitem = target.closest('[role=\"menuitem\"], [role=\"menuitemradio\"]');\n        if (!menuitem)\n            return;\n        const input = menuitem.querySelector('input');\n        if (menuitem.tagName === 'LABEL' && target === input)\n            return;\n        const onlyCommitOnChangeEvent = menuitem.tagName === 'LABEL' && input && !input.checked;\n        if (!onlyCommitOnChangeEvent) {\n            commit(menuitem, details);\n        }\n    }\n    else if (event.type === 'change') {\n        const menuitem = target.closest('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]');\n        if (menuitem)\n            commit(menuitem, details);\n    }\n}\nfunction updateChecked(selected, details) {\n    for (const el of details.querySelectorAll('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]')) {\n        const input = el.querySelector('input[type=\"radio\"], input[type=\"checkbox\"]');\n        let checkState = (el === selected).toString();\n        if (input instanceof HTMLInputElement) {\n            checkState = input.indeterminate ? 'mixed' : input.checked.toString();\n        }\n        el.setAttribute('aria-checked', checkState);\n    }\n}\nfunction commit(selected, details) {\n    if (selected.hasAttribute('disabled') || selected.getAttribute('aria-disabled') === 'true')\n        return;\n    const menu = selected.closest('details-menu');\n    if (!menu)\n        return;\n    const dispatched = menu.dispatchEvent(new CustomEvent('details-menu-select', {\n        cancelable: true,\n        detail: { relatedTarget: selected }\n    }));\n    if (!dispatched)\n        return;\n    updateLabel(selected, details);\n    updateChecked(selected, details);\n    if (selected.getAttribute('role') !== 'menuitemcheckbox')\n        close(details);\n    menu.dispatchEvent(new CustomEvent('details-menu-selected', {\n        detail: { relatedTarget: selected }\n    }));\n}\nfunction keydown(details, menu, event) {\n    if (!(event instanceof KeyboardEvent))\n        return;\n    if (details.querySelector('details[open]'))\n        return;\n    const state = states.get(menu);\n    if (!state || state.isComposing)\n        return;\n    const isSummaryFocused = event.target instanceof Element && event.target.tagName === 'SUMMARY';\n    switch (event.key) {\n        case 'Escape':\n            if (details.hasAttribute('open')) {\n                close(details);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            break;\n        case 'ArrowDown':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, true);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'ArrowUp':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, false);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'n':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, true);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case 'p':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, false);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case ' ':\n        case 'Enter':\n            {\n                const selected = document.activeElement;\n                if (selected instanceof HTMLElement && isMenuItem(selected) && selected.closest('details') === details) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    selected.click();\n                }\n            }\n            break;\n    }\n}\nfunction isMenuItem(el) {\n    const role = el.getAttribute('role');\n    return role === 'menuitem' || role === 'menuitemcheckbox' || role === 'menuitemradio';\n}\nfunction close(details) {\n    const wasOpen = details.hasAttribute('open');\n    if (!wasOpen)\n        return;\n    details.removeAttribute('open');\n    const summary = details.querySelector('summary');\n    if (summary)\n        summary.focus();\n}\nfunction updateLabel(item, details) {\n    const button = details.querySelector('[data-menu-button]');\n    if (!button)\n        return;\n    const text = labelText(item);\n    if (text) {\n        button.textContent = text;\n    }\n    else {\n        const html = labelHTML(item);\n        if (html)\n            button.innerHTML = html;\n    }\n}\nfunction labelText(el) {\n    if (!el)\n        return null;\n    const textEl = el.hasAttribute('data-menu-button-text') ? el : el.querySelector('[data-menu-button-text]');\n    if (!textEl)\n        return null;\n    return textEl.getAttribute('data-menu-button-text') || textEl.textContent;\n}\nfunction labelHTML(el) {\n    if (!el)\n        return null;\n    const contentsEl = el.hasAttribute('data-menu-button-contents') ? el : el.querySelector('[data-menu-button-contents]');\n    return contentsEl ? contentsEl.innerHTML : null;\n}\nfunction trackComposition(menu, event) {\n    const state = states.get(menu);\n    if (!state)\n        return;\n    state.isComposing = event.type === 'compositionstart';\n}\nexport default DetailsMenuElement;\nif (!window.customElements.get('details-menu')) {\n    window.DetailsMenuElement = DetailsMenuElement;\n    window.customElements.define('details-menu', DetailsMenuElement);\n}\n","const alternateOrders = {\n    'outside-top': ['outside-bottom', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-bottom': ['outside-top', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-left': ['outside-right', 'outside-bottom', 'outside-top', 'outside-bottom'],\n    'outside-right': ['outside-left', 'outside-bottom', 'outside-top', 'outside-bottom']\n};\nexport function getAnchoredPosition(floatingElement, anchorElement, settings = {}) {\n    const parentElement = getPositionedParent(floatingElement);\n    const clippingRect = getClippingRect(parentElement);\n    const parentElementStyle = getComputedStyle(parentElement);\n    const parentElementRect = parentElement.getBoundingClientRect();\n    const [borderTop, borderLeft] = [parentElementStyle.borderTopWidth, parentElementStyle.borderLeftWidth].map(v => parseInt(v, 10) || 0);\n    const relativeRect = {\n        top: parentElementRect.top + borderTop,\n        left: parentElementRect.left + borderLeft\n    };\n    return pureCalculateAnchoredPosition(clippingRect, relativeRect, floatingElement.getBoundingClientRect(), anchorElement instanceof Element ? anchorElement.getBoundingClientRect() : anchorElement, getDefaultSettings(settings));\n}\nfunction getPositionedParent(element) {\n    let parentNode = element.parentNode;\n    while (parentNode !== null) {\n        if (parentNode instanceof HTMLElement && getComputedStyle(parentNode).position !== 'static') {\n            return parentNode;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    return document.body;\n}\nfunction getClippingRect(element) {\n    let parentNode = element;\n    while (parentNode !== null) {\n        if (parentNode === document.body) {\n            break;\n        }\n        const parentNodeStyle = getComputedStyle(parentNode);\n        if (parentNodeStyle.overflow !== 'visible') {\n            break;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    const clippingNode = parentNode === document.body || !(parentNode instanceof HTMLElement) ? document.body : parentNode;\n    const elemRect = clippingNode.getBoundingClientRect();\n    const elemStyle = getComputedStyle(clippingNode);\n    const [borderTop, borderLeft, borderRight, borderBottom] = [\n        elemStyle.borderTopWidth,\n        elemStyle.borderLeftWidth,\n        elemStyle.borderRightWidth,\n        elemStyle.borderBottomWidth\n    ].map(v => parseInt(v, 10) || 0);\n    return {\n        top: elemRect.top + borderTop,\n        left: elemRect.left + borderLeft,\n        width: elemRect.width - borderRight - borderLeft,\n        height: Math.max(elemRect.height - borderTop - borderBottom, clippingNode === document.body ? window.innerHeight : -Infinity)\n    };\n}\nconst positionDefaults = {\n    side: 'outside-bottom',\n    align: 'start',\n    anchorOffset: 4,\n    alignmentOffset: 4,\n    allowOutOfBounds: false\n};\nfunction getDefaultSettings(settings = {}) {\n    var _a, _b, _c, _d, _e;\n    const side = (_a = settings.side) !== null && _a !== void 0 ? _a : positionDefaults.side;\n    const align = (_b = settings.align) !== null && _b !== void 0 ? _b : positionDefaults.align;\n    return {\n        side,\n        align,\n        anchorOffset: (_c = settings.anchorOffset) !== null && _c !== void 0 ? _c : (side === 'inside-center' ? 0 : positionDefaults.anchorOffset),\n        alignmentOffset: (_d = settings.alignmentOffset) !== null && _d !== void 0 ? _d : (align !== 'center' && side.startsWith('inside') ? positionDefaults.alignmentOffset : 0),\n        allowOutOfBounds: (_e = settings.allowOutOfBounds) !== null && _e !== void 0 ? _e : positionDefaults.allowOutOfBounds\n    };\n}\nfunction pureCalculateAnchoredPosition(viewportRect, relativePosition, floatingRect, anchorRect, { side, align, allowOutOfBounds, anchorOffset, alignmentOffset }) {\n    const relativeViewportRect = {\n        top: viewportRect.top - relativePosition.top,\n        left: viewportRect.left - relativePosition.left,\n        width: viewportRect.width,\n        height: viewportRect.height\n    };\n    let pos = calculatePosition(floatingRect, anchorRect, side, align, anchorOffset, alignmentOffset);\n    let anchorSide = side;\n    pos.top -= relativePosition.top;\n    pos.left -= relativePosition.left;\n    if (!allowOutOfBounds) {\n        const alternateOrder = alternateOrders[side];\n        let positionAttempt = 0;\n        if (alternateOrder) {\n            let prevSide = side;\n            while (positionAttempt < alternateOrder.length &&\n                shouldRecalculatePosition(prevSide, pos, relativeViewportRect, floatingRect)) {\n                const nextSide = alternateOrder[positionAttempt++];\n                prevSide = nextSide;\n                pos = calculatePosition(floatingRect, anchorRect, nextSide, align, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorSide = nextSide;\n            }\n        }\n        if (pos.top < relativeViewportRect.top) {\n            pos.top = relativeViewportRect.top;\n        }\n        if (pos.left < relativeViewportRect.left) {\n            pos.left = relativeViewportRect.left;\n        }\n        if (pos.left + floatingRect.width > viewportRect.width + relativeViewportRect.left) {\n            pos.left = viewportRect.width + relativeViewportRect.left - floatingRect.width;\n        }\n        if (alternateOrder && positionAttempt < alternateOrder.length) {\n            if (pos.top + floatingRect.height > viewportRect.height + relativeViewportRect.top) {\n                pos.top = viewportRect.height + relativeViewportRect.top - floatingRect.height;\n            }\n        }\n    }\n    return Object.assign(Object.assign({}, pos), { anchorSide });\n}\nfunction calculatePosition(elementDimensions, anchorPosition, side, align, anchorOffset, alignmentOffset) {\n    const anchorRight = anchorPosition.left + anchorPosition.width;\n    const anchorBottom = anchorPosition.top + anchorPosition.height;\n    let top = -1;\n    let left = -1;\n    if (side === 'outside-top') {\n        top = anchorPosition.top - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'outside-bottom') {\n        top = anchorBottom + anchorOffset;\n    }\n    else if (side === 'outside-left') {\n        left = anchorPosition.left - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'outside-right') {\n        left = anchorRight + anchorOffset;\n    }\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    if (side === 'outside-left' || side === 'outside-right') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    if (side === 'inside-top') {\n        top = anchorPosition.top + anchorOffset;\n    }\n    else if (side === 'inside-bottom') {\n        top = anchorBottom - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'inside-left') {\n        left = anchorPosition.left + anchorOffset;\n    }\n    else if (side === 'inside-right') {\n        left = anchorRight - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'inside-center') {\n        left = (anchorRight + anchorPosition.left) / 2 - elementDimensions.width / 2 + anchorOffset;\n    }\n    if (side === 'inside-top' || side === 'inside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    else if (side === 'inside-left' || side === 'inside-right' || side === 'inside-center') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    return { top, left };\n}\nfunction shouldRecalculatePosition(side, currentPos, containerDimensions, elementDimensions) {\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        return (currentPos.top < containerDimensions.top ||\n            currentPos.top + elementDimensions.height > containerDimensions.height + containerDimensions.top);\n    }\n    else {\n        return (currentPos.left < containerDimensions.left ||\n            currentPos.left + elementDimensions.width > containerDimensions.width + containerDimensions.left);\n    }\n}\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _TooltipElement_instances, _TooltipElement_abortController, _TooltipElement_align, _TooltipElement_side, _TooltipElement_allowUpdatePosition, _TooltipElement_adjustedAnchorAlignment, _TooltipElement_updatePosition;\nimport { getAnchoredPosition } from '@primer/behaviors';\nconst TOOLTIP_OPEN_CLASS = 'tooltip-open';\nconst DIRECTION_CLASSES = [\n    'tooltip-n',\n    'tooltip-s',\n    'tooltip-e',\n    'tooltip-w',\n    'tooltip-ne',\n    'tooltip-se',\n    'tooltip-nw',\n    'tooltip-sw'\n];\nclass TooltipElement extends HTMLElement {\n    constructor() {\n        super();\n        _TooltipElement_instances.add(this);\n        _TooltipElement_abortController.set(this, void 0);\n        _TooltipElement_align.set(this, 'center');\n        _TooltipElement_side.set(this, 'outside-bottom');\n        _TooltipElement_allowUpdatePosition.set(this, false);\n        const shadow = this.attachShadow({ mode: 'open' });\n        shadow.innerHTML = `\n      <style>\n        ${this.styles()}\n      </style>\n      <slot></slot>\n    `;\n    }\n    styles() {\n        return `\n      :host {\n        position: absolute;\n        z-index: 1000000;\n        padding: .5em .75em;\n        font: normal normal 11px/1.5 -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\";\n        -webkit-font-smoothing: subpixel-antialiased;\n        color: var(--color-fg-on-emphasis);\n        text-align: center;\n        text-decoration: none;\n        text-shadow: none;\n        text-transform: none;\n        letter-spacing: normal;\n        word-wrap: break-word;\n        white-space: pre;\n        background: var(--color-neutral-emphasis-plus);\n        border-radius: 6px;\n        opacity: 0;\n        max-width: 250px;\n        word-wrap: break-word;\n        white-space: normal\n      }\n      \n      :host:before{\n        position: absolute;\n        z-index: 1000001;\n        color: var(--color-neutral-emphasis-plus);\n        content: \"\";\n        border: 6px solid transparent;\n        opacity: 0\n      }\n      \n      @keyframes tooltip-appear {\n        from {\n          opacity: 0\n        }\n        to {\n          opacity: 1\n        }\n      }\n      \n      :host:after{\n        position: absolute;\n        display: block;\n        right: 0;\n        left: 0;\n        height: 12px;\n        content: \"\"\n      }\n      \n      :host(.${TOOLTIP_OPEN_CLASS}),\n      :host(.${TOOLTIP_OPEN_CLASS}):before {\n        animation-name: tooltip-appear;\n        animation-duration: .1s;\n        animation-fill-mode: forwards;\n        animation-timing-function: ease-in;\n        animation-delay: .4s\n      }\n      \n      :host(.tooltip-s):before,\n      :host(.tooltip-se):before,\n      :host(.tooltip-sw):before {\n        right: 50%;\n        bottom: 100%;\n        margin-right: -6px;\n        border-bottom-color: var(--color-neutral-emphasis-plus)\n      }\n      \n      :host(.tooltip-s):after,\n      :host(.tooltip-se):after,\n      :host(.tooltip-sw):after {\n        bottom: 100%\n      }\n      \n      :host(.tooltip-n):before,\n      :host(.tooltip-ne):before,\n      :host(.tooltip-nw):before {\n        top: 100%;\n        right: 50%;\n        margin-right: -6px;\n        border-top-color: var(--color-neutral-emphasis-plus)\n      }\n      \n      :host(.tooltip-n):after,\n      :host(.tooltip-ne):after,\n      :host(.tooltip-nw):after {\n        top: 100%\n      }\n      \n      :host(.tooltip-se):before,\n      :host(.tooltip-ne):before {\n        right: auto\n      }\n      \n      :host(.tooltip-sw):before,\n      :host(.tooltip-nw):before {\n        right: 0;\n        margin-right: 6px\n      }\n      \n      :host(.tooltip-w):before {\n        top: 50%;\n        bottom: 50%;\n        left: 100%;\n        margin-top: -6px;\n        border-left-color: var(--color-neutral-emphasis-plus)\n      }\n      \n      :host(.tooltip-e):before {\n        top: 50%;\n        right: 100%;\n        bottom: 50%;\n        margin-top: -6px;\n        border-right-color: var(--color-neutral-emphasis-plus)\n      }\n    `;\n    }\n    get htmlFor() {\n        return this.getAttribute('for') || '';\n    }\n    set htmlFor(value) {\n        this.setAttribute('for', value);\n    }\n    get type() {\n        const type = this.getAttribute('data-type');\n        return type === 'label' ? 'label' : 'description';\n    }\n    set type(value) {\n        this.setAttribute('data-type', value);\n    }\n    get direction() {\n        return (this.getAttribute('data-direction') || 's');\n    }\n    set direction(value) {\n        this.setAttribute('data-direction', value);\n    }\n    get control() {\n        return this.ownerDocument.getElementById(this.htmlFor);\n    }\n    connectedCallback() {\n        var _a;\n        this.hidden = true;\n        __classPrivateFieldSet(this, _TooltipElement_allowUpdatePosition, true, \"f\");\n        if (!this.id) {\n            this.id = `tooltip-${Date.now()}-${(Math.random() * 10000).toFixed(0)}`;\n        }\n        if (!this.control)\n            return;\n        this.setAttribute('role', 'tooltip');\n        (_a = __classPrivateFieldGet(this, _TooltipElement_abortController, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n        __classPrivateFieldSet(this, _TooltipElement_abortController, new AbortController(), \"f\");\n        const { signal } = __classPrivateFieldGet(this, _TooltipElement_abortController, \"f\");\n        this.addEventListener('mouseleave', this, { signal });\n        this.control.addEventListener('mouseenter', this, { signal });\n        this.control.addEventListener('mouseleave', this, { signal });\n        this.control.addEventListener('focus', this, { signal });\n        this.control.addEventListener('blur', this, { signal });\n        this.ownerDocument.addEventListener('keydown', this, { signal });\n    }\n    disconnectedCallback() {\n        var _a;\n        (_a = __classPrivateFieldGet(this, _TooltipElement_abortController, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n    }\n    handleEvent(event) {\n        if (!this.control)\n            return;\n        // Ensures that tooltip stays open when hovering between tooltip and element\n        // WCAG Success Criterion 1.4.13 Hoverable\n        if ((event.type === 'mouseenter' || event.type === 'focus') && this.hidden) {\n            this.hidden = false;\n        }\n        else if (event.type === 'blur') {\n            this.hidden = true;\n        }\n        else if (event.type === 'mouseleave' &&\n            event.relatedTarget !== this.control &&\n            event.relatedTarget !== this) {\n            this.hidden = true;\n        }\n        else if (event.type === 'keydown' && event.key === 'Escape' && !this.hidden) {\n            this.hidden = true;\n        }\n    }\n    attributeChangedCallback(name) {\n        if (name === 'id' || name === 'data-type') {\n            if (!this.id || !this.control)\n                return;\n            if (this.type === 'label') {\n                this.control.setAttribute('aria-labelledby', this.id);\n            }\n            else {\n                let describedBy = this.control.getAttribute('aria-describedby');\n                describedBy ? (describedBy = `${describedBy} ${this.id}`) : (describedBy = this.id);\n                this.control.setAttribute('aria-describedby', describedBy);\n            }\n        }\n        else if (name === 'hidden') {\n            if (this.hidden) {\n                this.classList.remove(TOOLTIP_OPEN_CLASS, ...DIRECTION_CLASSES);\n            }\n            else {\n                this.classList.add(TOOLTIP_OPEN_CLASS);\n                for (const tooltip of this.ownerDocument.querySelectorAll(this.tagName)) {\n                    if (tooltip !== this)\n                        tooltip.hidden = true;\n                }\n                __classPrivateFieldGet(this, _TooltipElement_instances, \"m\", _TooltipElement_updatePosition).call(this);\n            }\n        }\n        else if (name === 'data-direction') {\n            this.classList.remove(...DIRECTION_CLASSES);\n            const direction = this.direction;\n            if (direction === 'n') {\n                __classPrivateFieldSet(this, _TooltipElement_align, 'center', \"f\");\n                __classPrivateFieldSet(this, _TooltipElement_side, 'outside-top', \"f\");\n            }\n            else if (direction === 'ne') {\n                __classPrivateFieldSet(this, _TooltipElement_align, 'start', \"f\");\n                __classPrivateFieldSet(this, _TooltipElement_side, 'outside-top', \"f\");\n            }\n            else if (direction === 'e') {\n                __classPrivateFieldSet(this, _TooltipElement_align, 'center', \"f\");\n                __classPrivateFieldSet(this, _TooltipElement_side, 'outside-right', \"f\");\n            }\n            else if (direction === 'se') {\n                __classPrivateFieldSet(this, _TooltipElement_align, 'start', \"f\");\n                __classPrivateFieldSet(this, _TooltipElement_side, 'outside-bottom', \"f\");\n            }\n            else if (direction === 's') {\n                __classPrivateFieldSet(this, _TooltipElement_align, 'center', \"f\");\n                __classPrivateFieldSet(this, _TooltipElement_side, 'outside-bottom', \"f\");\n            }\n            else if (direction === 'sw') {\n                __classPrivateFieldSet(this, _TooltipElement_align, 'end', \"f\");\n                __classPrivateFieldSet(this, _TooltipElement_side, 'outside-bottom', \"f\");\n            }\n            else if (direction === 'w') {\n                __classPrivateFieldSet(this, _TooltipElement_align, 'center', \"f\");\n                __classPrivateFieldSet(this, _TooltipElement_side, 'outside-left', \"f\");\n            }\n            else if (direction === 'nw') {\n                __classPrivateFieldSet(this, _TooltipElement_align, 'end', \"f\");\n                __classPrivateFieldSet(this, _TooltipElement_side, 'outside-top', \"f\");\n            }\n        }\n    }\n}\n_TooltipElement_abortController = new WeakMap(), _TooltipElement_align = new WeakMap(), _TooltipElement_side = new WeakMap(), _TooltipElement_allowUpdatePosition = new WeakMap(), _TooltipElement_instances = new WeakSet(), _TooltipElement_adjustedAnchorAlignment = function _TooltipElement_adjustedAnchorAlignment(anchorSide) {\n    if (!this.control)\n        return;\n    const tooltipPosition = this.getBoundingClientRect();\n    const targetPosition = this.control.getBoundingClientRect();\n    const tooltipWidth = tooltipPosition.width;\n    const tooltipCenter = tooltipPosition.left + tooltipWidth / 2;\n    const targetCenter = targetPosition.x + targetPosition.width / 2;\n    if (Math.abs(tooltipCenter - targetCenter) < 2 || anchorSide === 'outside-left' || anchorSide === 'outside-right') {\n        return 'center';\n    }\n    else if (tooltipPosition.left === targetPosition.left) {\n        return 'start';\n    }\n    else if (tooltipPosition.right === targetPosition.right) {\n        return 'end';\n    }\n    else if (tooltipCenter < targetCenter) {\n        if (tooltipPosition.left === 0)\n            return 'start';\n        return 'end';\n    }\n    else {\n        if (tooltipPosition.right === 0)\n            return 'end';\n        return 'start';\n    }\n}, _TooltipElement_updatePosition = function _TooltipElement_updatePosition() {\n    if (!this.control)\n        return;\n    if (!__classPrivateFieldGet(this, _TooltipElement_allowUpdatePosition, \"f\") || this.hidden)\n        return;\n    const TOOLTIP_OFFSET = 10;\n    this.style.left = `0px`; // Ensures we have reliable tooltip width in `getAnchoredPosition`\n    let position = getAnchoredPosition(this, this.control, {\n        side: __classPrivateFieldGet(this, _TooltipElement_side, \"f\"),\n        align: __classPrivateFieldGet(this, _TooltipElement_align, \"f\"),\n        anchorOffset: TOOLTIP_OFFSET\n    });\n    let anchorSide = position.anchorSide;\n    // We need to set tooltip position in order to determine ideal align.\n    this.style.top = `${position.top}px`;\n    this.style.left = `${position.left}px`;\n    let direction = 's';\n    const align = __classPrivateFieldGet(this, _TooltipElement_instances, \"m\", _TooltipElement_adjustedAnchorAlignment).call(this, anchorSide);\n    if (!align)\n        return;\n    this.style.left = `0px`; // Reset tooltip position again to ensure accurate width in `getAnchoredPosition`\n    position = getAnchoredPosition(this, this.control, { side: anchorSide, align, anchorOffset: TOOLTIP_OFFSET });\n    anchorSide = position.anchorSide;\n    this.style.top = `${position.top}px`;\n    this.style.left = `${position.left}px`;\n    if (anchorSide === 'outside-left') {\n        direction = 'w';\n    }\n    else if (anchorSide === 'outside-right') {\n        direction = 'e';\n    }\n    else if (anchorSide === 'outside-top') {\n        if (align === 'center') {\n            direction = 'n';\n        }\n        else if (align === 'start') {\n            direction = 'ne';\n        }\n        else {\n            direction = 'nw';\n        }\n    }\n    else {\n        if (align === 'center') {\n            direction = 's';\n        }\n        else if (align === 'start') {\n            direction = 'se';\n        }\n        else {\n            direction = 'sw';\n        }\n    }\n    this.classList.add(`tooltip-${direction}`);\n};\nTooltipElement.observedAttributes = ['data-type', 'data-direction', 'id', 'hidden'];\nif (!window.customElements.get('tool-tip')) {\n    window.TooltipElement = TooltipElement;\n    window.customElements.define('tool-tip', TooltipElement);\n}\n","function throttle(callback, wait = 0, {\n  start = true,\n  middle = true,\n  once = false\n} = {}) {\n  var last = 0;\n  var timer;\n  var cancelled = false;\n\n  var fn = function fn(...args) {\n    if (cancelled) return;\n    var delta = Date.now() - last;\n    last = Date.now();\n\n    if (start) {\n      //eslint-disable-next-line flowtype/no-flow-fix-me-comments\n      // $FlowFixMe this isn't a const\n      start = false;\n      callback(...args);\n      if (once) fn.cancel();\n    } else if (middle && delta < wait || !middle) {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        last = Date.now();\n        callback(...args);\n        if (once) fn.cancel();\n      }, !middle ? wait : wait - delta);\n    }\n  };\n\n  fn.cancel = function () {\n    clearTimeout(timer);\n    cancelled = true;\n  };\n\n  return fn;\n}\nfunction debounce(callback, wait = 0, {\n  start = false,\n  middle = false,\n  once = false\n} = {}) {\n  return throttle(callback, wait, {\n    start: start,\n    middle: middle,\n    once: once\n  });\n}\n\nconst states = new WeakMap();\nclass AutoCheckElement extends HTMLElement {\n    connectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        const checker = debounce(check.bind(null, this), 300);\n        const state = { check: checker, controller: null };\n        states.set(this, state);\n        input.addEventListener('input', setLoadingState);\n        input.addEventListener('input', checker);\n        input.autocomplete = 'off';\n        input.spellcheck = false;\n    }\n    disconnectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        const state = states.get(this);\n        if (!state)\n            return;\n        states.delete(this);\n        input.removeEventListener('input', setLoadingState);\n        input.removeEventListener('input', state.check);\n        input.setCustomValidity('');\n    }\n    attributeChangedCallback(name) {\n        if (name === 'required') {\n            const input = this.input;\n            if (!input)\n                return;\n            input.required = this.required;\n        }\n    }\n    static get observedAttributes() {\n        return ['required'];\n    }\n    get input() {\n        return this.querySelector('input');\n    }\n    get src() {\n        const src = this.getAttribute('src');\n        if (!src)\n            return '';\n        const link = this.ownerDocument.createElement('a');\n        link.href = src;\n        return link.href;\n    }\n    set src(value) {\n        this.setAttribute('src', value);\n    }\n    get csrf() {\n        const csrfElement = this.querySelector('[data-csrf]');\n        return this.getAttribute('csrf') || (csrfElement instanceof HTMLInputElement && csrfElement.value) || '';\n    }\n    set csrf(value) {\n        this.setAttribute('csrf', value);\n    }\n    get required() {\n        return this.hasAttribute('required');\n    }\n    set required(required) {\n        if (required) {\n            this.setAttribute('required', '');\n        }\n        else {\n            this.removeAttribute('required');\n        }\n    }\n}\nfunction setLoadingState(event) {\n    const input = event.currentTarget;\n    if (!(input instanceof HTMLInputElement))\n        return;\n    const autoCheckElement = input.closest('auto-check');\n    if (!(autoCheckElement instanceof AutoCheckElement))\n        return;\n    const src = autoCheckElement.src;\n    const csrf = autoCheckElement.csrf;\n    const state = states.get(autoCheckElement);\n    if (!src || !csrf || !state) {\n        return;\n    }\n    let message = 'Verifying';\n    const setValidity = (text) => (message = text);\n    input.dispatchEvent(new CustomEvent('auto-check-start', {\n        bubbles: true,\n        detail: { setValidity }\n    }));\n    if (autoCheckElement.required) {\n        input.setCustomValidity(message);\n    }\n}\nfunction makeAbortController() {\n    if ('AbortController' in window) {\n        return new AbortController();\n    }\n    return {\n        signal: null,\n        abort() {\n        }\n    };\n}\nasync function fetchWithNetworkEvents(el, url, options) {\n    try {\n        const response = await fetch(url, options);\n        el.dispatchEvent(new CustomEvent('load'));\n        el.dispatchEvent(new CustomEvent('loadend'));\n        return response;\n    }\n    catch (error) {\n        if (error.name !== 'AbortError') {\n            el.dispatchEvent(new CustomEvent('error'));\n            el.dispatchEvent(new CustomEvent('loadend'));\n        }\n        throw error;\n    }\n}\nasync function check(autoCheckElement) {\n    const input = autoCheckElement.input;\n    if (!input) {\n        return;\n    }\n    const src = autoCheckElement.src;\n    const csrf = autoCheckElement.csrf;\n    const state = states.get(autoCheckElement);\n    if (!src || !csrf || !state) {\n        if (autoCheckElement.required) {\n            input.setCustomValidity('');\n        }\n        return;\n    }\n    if (!input.value.trim()) {\n        if (autoCheckElement.required) {\n            input.setCustomValidity('');\n        }\n        return;\n    }\n    const body = new FormData();\n    body.append('authenticity_token', csrf);\n    body.append('value', input.value);\n    input.dispatchEvent(new CustomEvent('auto-check-send', {\n        bubbles: true,\n        detail: { body }\n    }));\n    if (state.controller) {\n        state.controller.abort();\n    }\n    else {\n        autoCheckElement.dispatchEvent(new CustomEvent('loadstart'));\n    }\n    state.controller = makeAbortController();\n    try {\n        const response = await fetchWithNetworkEvents(autoCheckElement, src, {\n            credentials: 'same-origin',\n            signal: state.controller.signal,\n            method: 'POST',\n            body\n        });\n        if (response.ok) {\n            processSuccess(response, input, autoCheckElement.required);\n        }\n        else {\n            processFailure(response, input, autoCheckElement.required);\n        }\n        state.controller = null;\n        input.dispatchEvent(new CustomEvent('auto-check-complete', { bubbles: true }));\n    }\n    catch (error) {\n        if (error.name !== 'AbortError') {\n            state.controller = null;\n            input.dispatchEvent(new CustomEvent('auto-check-complete', { bubbles: true }));\n        }\n    }\n}\nfunction processSuccess(response, input, required) {\n    if (required) {\n        input.setCustomValidity('');\n    }\n    input.dispatchEvent(new CustomEvent('auto-check-success', {\n        bubbles: true,\n        detail: {\n            response: response.clone()\n        }\n    }));\n}\nfunction processFailure(response, input, required) {\n    let message = 'Validation failed';\n    const setValidity = (text) => (message = text);\n    input.dispatchEvent(new CustomEvent('auto-check-error', {\n        bubbles: true,\n        detail: {\n            response: response.clone(),\n            setValidity\n        }\n    }));\n    if (required) {\n        input.setCustomValidity(message);\n    }\n}\nif (!window.customElements.get('auto-check')) {\n    window.AutoCheckElement = AutoCheckElement;\n    window.customElements.define('auto-check', AutoCheckElement);\n}\n\nexport default AutoCheckElement;\n","const CLOSE_ATTR = 'data-close-dialog';\nconst CLOSE_SELECTOR = `[${CLOSE_ATTR}]`;\nfunction autofocus(el) {\n    let autofocusElement = Array.from(el.querySelectorAll('[autofocus]')).filter(focusable)[0];\n    if (!autofocusElement) {\n        autofocusElement = el;\n        el.setAttribute('tabindex', '-1');\n    }\n    autofocusElement.focus();\n}\nfunction keydown(event) {\n    const details = event.currentTarget;\n    if (!(details instanceof Element))\n        return;\n    if (event.key === 'Escape' || event.key === 'Esc') {\n        toggleDetails(details, false);\n        event.stopPropagation();\n    }\n    else if (event.key === 'Tab') {\n        restrictTabBehavior(event);\n    }\n}\nfunction focusable(el) {\n    return el.tabIndex >= 0 && !el.disabled && visible(el);\n}\nfunction visible(el) {\n    return (!el.hidden &&\n        (!el.type || el.type !== 'hidden') &&\n        (el.offsetWidth > 0 || el.offsetHeight > 0));\n}\nfunction restrictTabBehavior(event) {\n    if (!(event.currentTarget instanceof Element))\n        return;\n    const dialog = event.currentTarget.querySelector('details-dialog');\n    if (!dialog)\n        return;\n    event.preventDefault();\n    const elements = Array.from(dialog.querySelectorAll('*')).filter(focusable);\n    if (elements.length === 0)\n        return;\n    const movement = event.shiftKey ? -1 : 1;\n    const root = dialog.getRootNode();\n    const currentFocus = dialog.contains(root.activeElement) ? root.activeElement : null;\n    let targetIndex = movement === -1 ? -1 : 0;\n    if (currentFocus instanceof HTMLElement) {\n        const currentIndex = elements.indexOf(currentFocus);\n        if (currentIndex !== -1) {\n            targetIndex = currentIndex + movement;\n        }\n    }\n    if (targetIndex < 0) {\n        targetIndex = elements.length - 1;\n    }\n    else {\n        targetIndex = targetIndex % elements.length;\n    }\n    elements[targetIndex].focus();\n}\nfunction allowClosingDialog(details) {\n    const dialog = details.querySelector('details-dialog');\n    if (!(dialog instanceof DetailsDialogElement))\n        return true;\n    return dialog.dispatchEvent(new CustomEvent('details-dialog-close', {\n        bubbles: true,\n        cancelable: true\n    }));\n}\nfunction onSummaryClick(event) {\n    if (!(event.currentTarget instanceof Element))\n        return;\n    const details = event.currentTarget.closest('details');\n    if (!details || !details.hasAttribute('open'))\n        return;\n    if (!allowClosingDialog(details)) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n}\nfunction toggle(event) {\n    const details = event.currentTarget;\n    if (!(details instanceof Element))\n        return;\n    const dialog = details.querySelector('details-dialog');\n    if (!(dialog instanceof DetailsDialogElement))\n        return;\n    if (details.hasAttribute('open')) {\n        const root = 'getRootNode' in dialog ? dialog.getRootNode() : document;\n        if (root.activeElement instanceof HTMLElement) {\n            initialized.set(dialog, { details, activeElement: root.activeElement });\n        }\n        autofocus(dialog);\n        details.addEventListener('keydown', keydown);\n    }\n    else {\n        for (const form of dialog.querySelectorAll('form')) {\n            form.reset();\n        }\n        const focusElement = findFocusElement(details, dialog);\n        if (focusElement)\n            focusElement.focus();\n        details.removeEventListener('keydown', keydown);\n    }\n}\nfunction findFocusElement(details, dialog) {\n    const state = initialized.get(dialog);\n    if (state && state.activeElement instanceof HTMLElement) {\n        return state.activeElement;\n    }\n    else {\n        return details.querySelector('summary');\n    }\n}\nfunction toggleDetails(details, open) {\n    if (open === details.hasAttribute('open'))\n        return;\n    if (open) {\n        details.setAttribute('open', '');\n    }\n    else if (allowClosingDialog(details)) {\n        details.removeAttribute('open');\n    }\n}\nfunction loadIncludeFragment(event) {\n    const details = event.currentTarget;\n    if (!(details instanceof Element))\n        return;\n    const dialog = details.querySelector('details-dialog');\n    if (!(dialog instanceof DetailsDialogElement))\n        return;\n    const loader = dialog.querySelector('include-fragment:not([src])');\n    if (!loader)\n        return;\n    const src = dialog.src;\n    if (src === null)\n        return;\n    loader.addEventListener('loadend', () => {\n        if (details.hasAttribute('open'))\n            autofocus(dialog);\n    });\n    loader.setAttribute('src', src);\n    removeIncludeFragmentEventListeners(details);\n}\nfunction updateIncludeFragmentEventListeners(details, src, preload) {\n    removeIncludeFragmentEventListeners(details);\n    if (src) {\n        details.addEventListener('toggle', loadIncludeFragment, { once: true });\n    }\n    if (src && preload) {\n        details.addEventListener('mouseover', loadIncludeFragment, { once: true });\n    }\n}\nfunction removeIncludeFragmentEventListeners(details) {\n    details.removeEventListener('toggle', loadIncludeFragment);\n    details.removeEventListener('mouseover', loadIncludeFragment);\n}\nconst initialized = new WeakMap();\nclass DetailsDialogElement extends HTMLElement {\n    static get CLOSE_ATTR() {\n        return CLOSE_ATTR;\n    }\n    static get CLOSE_SELECTOR() {\n        return CLOSE_SELECTOR;\n    }\n    constructor() {\n        super();\n        initialized.set(this, { details: null, activeElement: null });\n        this.addEventListener('click', function ({ target }) {\n            if (!(target instanceof Element))\n                return;\n            const details = target.closest('details');\n            if (details && target.closest(CLOSE_SELECTOR)) {\n                toggleDetails(details, false);\n            }\n        });\n    }\n    get src() {\n        return this.getAttribute('src');\n    }\n    set src(value) {\n        this.setAttribute('src', value || '');\n    }\n    get preload() {\n        return this.hasAttribute('preload');\n    }\n    set preload(value) {\n        value ? this.setAttribute('preload', '') : this.removeAttribute('preload');\n    }\n    connectedCallback() {\n        this.setAttribute('role', 'dialog');\n        this.setAttribute('aria-modal', 'true');\n        const state = initialized.get(this);\n        if (!state)\n            return;\n        const details = this.parentElement;\n        if (!details)\n            return;\n        const summary = details.querySelector('summary');\n        if (summary) {\n            if (!summary.hasAttribute('role'))\n                summary.setAttribute('role', 'button');\n            summary.addEventListener('click', onSummaryClick, { capture: true });\n        }\n        details.addEventListener('toggle', toggle);\n        state.details = details;\n        updateIncludeFragmentEventListeners(details, this.src, this.preload);\n    }\n    disconnectedCallback() {\n        const state = initialized.get(this);\n        if (!state)\n            return;\n        const { details } = state;\n        if (!details)\n            return;\n        details.removeEventListener('toggle', toggle);\n        removeIncludeFragmentEventListeners(details);\n        const summary = details.querySelector('summary');\n        if (summary) {\n            summary.removeEventListener('click', onSummaryClick, { capture: true });\n        }\n        state.details = null;\n    }\n    toggle(open) {\n        const state = initialized.get(this);\n        if (!state)\n            return;\n        const { details } = state;\n        if (!details)\n            return;\n        toggleDetails(details, open);\n    }\n    static get observedAttributes() {\n        return ['src', 'preload'];\n    }\n    attributeChangedCallback() {\n        const state = initialized.get(this);\n        if (!state)\n            return;\n        const { details } = state;\n        if (!details)\n            return;\n        updateIncludeFragmentEventListeners(details, this.src, this.preload);\n    }\n}\nexport default DetailsDialogElement;\nif (!window.customElements.get('details-dialog')) {\n    window.DetailsDialogElement = DetailsDialogElement;\n    window.customElements.define('details-dialog', DetailsDialogElement);\n}\n","function isEmojiSupported() {\n    const onWindows7 = /\\bWindows NT 6.1\\b/.test(navigator.userAgent);\n    const onWindows8 = /\\bWindows NT 6.2\\b/.test(navigator.userAgent);\n    const onWindows81 = /\\bWindows NT 6.3\\b/.test(navigator.userAgent);\n    const onFreeBSD = /\\bFreeBSD\\b/.test(navigator.userAgent);\n    const onLinux = /\\bLinux\\b/.test(navigator.userAgent) && !/\\bAndroid\\b/.test(navigator.userAgent);\n    return !(onWindows7 || onWindows8 || onWindows81 || onLinux || onFreeBSD);\n}\n\nconst supported = new Set([\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    ''\n]);\nfunction isModifiable(emoji) {\n    return supported.has(emoji);\n}\n\nconst ZERO_WIDTH_JOINER = '\\u{200d}';\nconst VARIATION_16 = 0xfe0f;\nfunction applyTone(sequence, tone) {\n    const sequenceWithToneRemoved = removeTone(sequence);\n    if (!isModifiable(sequenceWithToneRemoved))\n        return sequence;\n    const modifier = toneModifier(tone);\n    if (!modifier)\n        return sequence;\n    return sequenceWithToneRemoved\n        .split(ZERO_WIDTH_JOINER)\n        .map(emoji => (isModifiable(emoji) ? tint(emoji, modifier) : emoji))\n        .join(ZERO_WIDTH_JOINER);\n}\nfunction applyTones(sequence, tones) {\n    const sequenceWithToneRemoved = removeTone(sequence);\n    if (!isModifiable(sequenceWithToneRemoved))\n        return sequence;\n    const modifiers = tones.map(t => toneModifier(t));\n    return sequenceWithToneRemoved\n        .split(ZERO_WIDTH_JOINER)\n        .map(emoji => {\n        if (!isModifiable(emoji))\n            return emoji;\n        const modifier = modifiers.shift();\n        return modifier ? tint(emoji, modifier) : emoji;\n    })\n        .join(ZERO_WIDTH_JOINER);\n}\nfunction removeTone(emoji) {\n    return [...emoji].filter(ch => !isTone(ch.codePointAt(0))).join('');\n}\nfunction tint(emoji, tone) {\n    const points = [...emoji].map(p => p.codePointAt(0));\n    if (points[1] && (isTone(points[1]) || points[1] === VARIATION_16)) {\n        points[1] = tone;\n    }\n    else {\n        points.splice(1, 0, tone);\n    }\n    return String.fromCodePoint(...points);\n}\nfunction isTone(point) {\n    return point >= 0x1f3fb && point <= 0x1f3ff;\n}\nfunction toneModifier(id) {\n    switch (id) {\n        case 1:\n            return 0x1f3fb;\n        case 2:\n            return 0x1f3fc;\n        case 3:\n            return 0x1f3fd;\n        case 4:\n            return 0x1f3fe;\n        case 5:\n            return 0x1f3ff;\n        default:\n            return null;\n    }\n}\n\nclass GEmojiElement extends HTMLElement {\n    get image() {\n        if (this.firstElementChild instanceof HTMLImageElement) {\n            return this.firstElementChild;\n        }\n        else {\n            return null;\n        }\n    }\n    get tone() {\n        return (this.getAttribute('tone') || '')\n            .split(' ')\n            .map(value => {\n            const tone = parseInt(value, 10);\n            return tone >= 0 && tone <= 5 ? tone : 0;\n        })\n            .join(' ');\n    }\n    set tone(modifiers) {\n        this.setAttribute('tone', modifiers);\n    }\n    connectedCallback() {\n        if (this.image === null && !isEmojiSupported()) {\n            const src = this.getAttribute('fallback-src');\n            if (src) {\n                this.textContent = '';\n                const image = emojiImage(this);\n                image.src = src;\n                this.appendChild(image);\n            }\n        }\n        if (this.hasAttribute('tone')) {\n            updateTone(this);\n        }\n    }\n    static get observedAttributes() {\n        return ['tone'];\n    }\n    attributeChangedCallback(name) {\n        switch (name) {\n            case 'tone':\n                updateTone(this);\n                break;\n        }\n    }\n}\nfunction updateTone(el) {\n    if (el.image)\n        return;\n    const tones = el.tone.split(' ').map(x => parseInt(x, 10));\n    if (tones.length === 0) {\n        el.textContent = removeTone(el.textContent || '');\n    }\n    else if (tones.length === 1) {\n        const tone = tones[0];\n        el.textContent = tone === 0 ? removeTone(el.textContent || '') : applyTone(el.textContent || '', tone);\n    }\n    else {\n        el.textContent = applyTones(el.textContent || '', tones);\n    }\n}\nfunction emojiImage(el) {\n    const image = document.createElement('img');\n    image.className = 'emoji';\n    image.alt = el.getAttribute('alias') || '';\n    image.height = 20;\n    image.width = 20;\n    return image;\n}\nif (!window.customElements.get('g-emoji')) {\n    window.GEmojiElement = GEmojiElement;\n    window.customElements.define('g-emoji', GEmojiElement);\n}\n\nexport default GEmojiElement;\n","const buttonSelectors = [\n    '[data-md-button]',\n    'md-header',\n    'md-bold',\n    'md-italic',\n    'md-quote',\n    'md-code',\n    'md-link',\n    'md-image',\n    'md-unordered-list',\n    'md-ordered-list',\n    'md-task-list',\n    'md-mention',\n    'md-ref',\n    'md-strikethrough'\n];\nfunction getButtons(toolbar) {\n    const els = [];\n    for (const button of toolbar.querySelectorAll(buttonSelectors.join(', '))) {\n        if (button.hidden || (button.offsetWidth <= 0 && button.offsetHeight <= 0))\n            continue;\n        if (button.closest('markdown-toolbar') === toolbar)\n            els.push(button);\n    }\n    return els;\n}\nfunction keydown(fn) {\n    return function (event) {\n        if (event.key === ' ' || event.key === 'Enter') {\n            event.preventDefault();\n            fn(event);\n        }\n    };\n}\nconst styles = new WeakMap();\nclass MarkdownButtonElement extends HTMLElement {\n    constructor() {\n        super();\n        const apply = () => {\n            const style = styles.get(this);\n            if (!style)\n                return;\n            applyStyle(this, style);\n        };\n        this.addEventListener('keydown', keydown(apply));\n        this.addEventListener('click', apply);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role')) {\n            this.setAttribute('role', 'button');\n        }\n    }\n    click() {\n        const style = styles.get(this);\n        if (!style)\n            return;\n        applyStyle(this, style);\n    }\n}\nclass MarkdownHeaderButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        const level = parseInt(this.getAttribute('level') || '3', 10);\n        if (level < 1 || level > 6) {\n            return;\n        }\n        const prefix = `${'#'.repeat(level)} `;\n        styles.set(this, {\n            prefix\n        });\n    }\n}\nif (!window.customElements.get('md-header')) {\n    window.MarkdownHeaderButtonElement = MarkdownHeaderButtonElement;\n    window.customElements.define('md-header', MarkdownHeaderButtonElement);\n}\nclass MarkdownBoldButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '**', suffix: '**', trimFirst: true });\n    }\n}\nif (!window.customElements.get('md-bold')) {\n    window.MarkdownBoldButtonElement = MarkdownBoldButtonElement;\n    window.customElements.define('md-bold', MarkdownBoldButtonElement);\n}\nclass MarkdownItalicButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '_', suffix: '_', trimFirst: true });\n    }\n}\nif (!window.customElements.get('md-italic')) {\n    window.MarkdownItalicButtonElement = MarkdownItalicButtonElement;\n    window.customElements.define('md-italic', MarkdownItalicButtonElement);\n}\nclass MarkdownQuoteButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '> ', multiline: true, surroundWithNewlines: true });\n    }\n}\nif (!window.customElements.get('md-quote')) {\n    window.MarkdownQuoteButtonElement = MarkdownQuoteButtonElement;\n    window.customElements.define('md-quote', MarkdownQuoteButtonElement);\n}\nclass MarkdownCodeButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '`', suffix: '`', blockPrefix: '```', blockSuffix: '```' });\n    }\n}\nif (!window.customElements.get('md-code')) {\n    window.MarkdownCodeButtonElement = MarkdownCodeButtonElement;\n    window.customElements.define('md-code', MarkdownCodeButtonElement);\n}\nclass MarkdownLinkButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '[', suffix: '](url)', replaceNext: 'url', scanFor: 'https?://' });\n    }\n}\nif (!window.customElements.get('md-link')) {\n    window.MarkdownLinkButtonElement = MarkdownLinkButtonElement;\n    window.customElements.define('md-link', MarkdownLinkButtonElement);\n}\nclass MarkdownImageButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '![', suffix: '](url)', replaceNext: 'url', scanFor: 'https?://' });\n    }\n}\nif (!window.customElements.get('md-image')) {\n    window.MarkdownImageButtonElement = MarkdownImageButtonElement;\n    window.customElements.define('md-image', MarkdownImageButtonElement);\n}\nclass MarkdownUnorderedListButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '- ', multiline: true, unorderedList: true });\n    }\n}\nif (!window.customElements.get('md-unordered-list')) {\n    window.MarkdownUnorderedListButtonElement = MarkdownUnorderedListButtonElement;\n    window.customElements.define('md-unordered-list', MarkdownUnorderedListButtonElement);\n}\nclass MarkdownOrderedListButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '1. ', multiline: true, orderedList: true });\n    }\n}\nif (!window.customElements.get('md-ordered-list')) {\n    window.MarkdownOrderedListButtonElement = MarkdownOrderedListButtonElement;\n    window.customElements.define('md-ordered-list', MarkdownOrderedListButtonElement);\n}\nclass MarkdownTaskListButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '- [ ] ', multiline: true, surroundWithNewlines: true });\n    }\n}\nif (!window.customElements.get('md-task-list')) {\n    window.MarkdownTaskListButtonElement = MarkdownTaskListButtonElement;\n    window.customElements.define('md-task-list', MarkdownTaskListButtonElement);\n}\nclass MarkdownMentionButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '@', prefixSpace: true });\n    }\n}\nif (!window.customElements.get('md-mention')) {\n    window.MarkdownMentionButtonElement = MarkdownMentionButtonElement;\n    window.customElements.define('md-mention', MarkdownMentionButtonElement);\n}\nclass MarkdownRefButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '#', prefixSpace: true });\n    }\n}\nif (!window.customElements.get('md-ref')) {\n    window.MarkdownRefButtonElement = MarkdownRefButtonElement;\n    window.customElements.define('md-ref', MarkdownRefButtonElement);\n}\nclass MarkdownStrikethroughButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super();\n        styles.set(this, { prefix: '~~', suffix: '~~', trimFirst: true });\n    }\n}\nif (!window.customElements.get('md-strikethrough')) {\n    window.MarkdownStrikethroughButtonElement = MarkdownStrikethroughButtonElement;\n    window.customElements.define('md-strikethrough', MarkdownStrikethroughButtonElement);\n}\nclass MarkdownToolbarElement extends HTMLElement {\n    constructor() {\n        super();\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role')) {\n            this.setAttribute('role', 'toolbar');\n        }\n        this.addEventListener('keydown', focusKeydown);\n        this.setAttribute('tabindex', '0');\n        this.addEventListener('focus', onToolbarFocus, { once: true });\n    }\n    disconnectedCallback() {\n        this.removeEventListener('keydown', focusKeydown);\n    }\n    get field() {\n        const id = this.getAttribute('for');\n        if (!id)\n            return null;\n        const root = 'getRootNode' in this ? this.getRootNode() : document;\n        let field;\n        if (root instanceof Document || root instanceof ShadowRoot) {\n            field = root.getElementById(id);\n        }\n        return field instanceof HTMLTextAreaElement ? field : null;\n    }\n}\nfunction onToolbarFocus({ target }) {\n    if (!(target instanceof Element))\n        return;\n    target.removeAttribute('tabindex');\n    let tabindex = '0';\n    for (const button of getButtons(target)) {\n        button.setAttribute('tabindex', tabindex);\n        if (tabindex === '0') {\n            button.focus();\n            tabindex = '-1';\n        }\n    }\n}\nfunction focusKeydown(event) {\n    const key = event.key;\n    if (key !== 'ArrowRight' && key !== 'ArrowLeft' && key !== 'Home' && key !== 'End')\n        return;\n    const toolbar = event.currentTarget;\n    if (!(toolbar instanceof HTMLElement))\n        return;\n    const buttons = getButtons(toolbar);\n    const index = buttons.indexOf(event.target);\n    const length = buttons.length;\n    if (index === -1)\n        return;\n    let n = 0;\n    if (key === 'ArrowLeft')\n        n = index - 1;\n    if (key === 'ArrowRight')\n        n = index + 1;\n    if (key === 'End')\n        n = length - 1;\n    if (n < 0)\n        n = length - 1;\n    if (n > length - 1)\n        n = 0;\n    for (let i = 0; i < length; i += 1) {\n        buttons[i].setAttribute('tabindex', i === n ? '0' : '-1');\n    }\n    event.preventDefault();\n    buttons[n].focus();\n}\nif (!window.customElements.get('markdown-toolbar')) {\n    window.MarkdownToolbarElement = MarkdownToolbarElement;\n    window.customElements.define('markdown-toolbar', MarkdownToolbarElement);\n}\nfunction isMultipleLines(string) {\n    return string.trim().split('\\n').length > 1;\n}\nfunction repeat(string, n) {\n    return Array(n + 1).join(string);\n}\nfunction wordSelectionStart(text, i) {\n    let index = i;\n    while (text[index] && text[index - 1] != null && !text[index - 1].match(/\\s/)) {\n        index--;\n    }\n    return index;\n}\nfunction wordSelectionEnd(text, i, multiline) {\n    let index = i;\n    const breakpoint = multiline ? /\\n/ : /\\s/;\n    while (text[index] && !text[index].match(breakpoint)) {\n        index++;\n    }\n    return index;\n}\nlet canInsertText = null;\nfunction insertText(textarea, { text, selectionStart, selectionEnd }) {\n    const originalSelectionStart = textarea.selectionStart;\n    const before = textarea.value.slice(0, originalSelectionStart);\n    const after = textarea.value.slice(textarea.selectionEnd);\n    if (canInsertText === null || canInsertText === true) {\n        textarea.contentEditable = 'true';\n        try {\n            canInsertText = document.execCommand('insertText', false, text);\n        }\n        catch (error) {\n            canInsertText = false;\n        }\n        textarea.contentEditable = 'false';\n    }\n    if (canInsertText && !textarea.value.slice(0, textarea.selectionStart).endsWith(text)) {\n        canInsertText = false;\n    }\n    if (!canInsertText) {\n        try {\n            document.execCommand('ms-beginUndoUnit');\n        }\n        catch (e) {\n        }\n        textarea.value = before + text + after;\n        try {\n            document.execCommand('ms-endUndoUnit');\n        }\n        catch (e) {\n        }\n        textarea.dispatchEvent(new CustomEvent('input', { bubbles: true, cancelable: true }));\n    }\n    if (selectionStart != null && selectionEnd != null) {\n        textarea.setSelectionRange(selectionStart, selectionEnd);\n    }\n    else {\n        textarea.setSelectionRange(originalSelectionStart, textarea.selectionEnd);\n    }\n}\nfunction styleSelectedText(textarea, styleArgs) {\n    const text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    let result;\n    if (styleArgs.orderedList || styleArgs.unorderedList) {\n        result = listStyle(textarea, styleArgs);\n    }\n    else if (styleArgs.multiline && isMultipleLines(text)) {\n        result = multilineStyle(textarea, styleArgs);\n    }\n    else {\n        result = blockStyle(textarea, styleArgs);\n    }\n    insertText(textarea, result);\n}\nfunction expandSelectionToLine(textarea) {\n    const lines = textarea.value.split('\\n');\n    let counter = 0;\n    for (let index = 0; index < lines.length; index++) {\n        const lineLength = lines[index].length + 1;\n        if (textarea.selectionStart >= counter && textarea.selectionStart < counter + lineLength) {\n            textarea.selectionStart = counter;\n        }\n        if (textarea.selectionEnd >= counter && textarea.selectionEnd < counter + lineLength) {\n            textarea.selectionEnd = counter + lineLength - 1;\n        }\n        counter += lineLength;\n    }\n}\nfunction expandSelectedText(textarea, prefixToUse, suffixToUse, multiline = false) {\n    if (textarea.selectionStart === textarea.selectionEnd) {\n        textarea.selectionStart = wordSelectionStart(textarea.value, textarea.selectionStart);\n        textarea.selectionEnd = wordSelectionEnd(textarea.value, textarea.selectionEnd, multiline);\n    }\n    else {\n        const expandedSelectionStart = textarea.selectionStart - prefixToUse.length;\n        const expandedSelectionEnd = textarea.selectionEnd + suffixToUse.length;\n        const beginsWithPrefix = textarea.value.slice(expandedSelectionStart, textarea.selectionStart) === prefixToUse;\n        const endsWithSuffix = textarea.value.slice(textarea.selectionEnd, expandedSelectionEnd) === suffixToUse;\n        if (beginsWithPrefix && endsWithSuffix) {\n            textarea.selectionStart = expandedSelectionStart;\n            textarea.selectionEnd = expandedSelectionEnd;\n        }\n    }\n    return textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n}\nfunction newlinesToSurroundSelectedText(textarea) {\n    const beforeSelection = textarea.value.slice(0, textarea.selectionStart);\n    const afterSelection = textarea.value.slice(textarea.selectionEnd);\n    const breaksBefore = beforeSelection.match(/\\n*$/);\n    const breaksAfter = afterSelection.match(/^\\n*/);\n    const newlinesBeforeSelection = breaksBefore ? breaksBefore[0].length : 0;\n    const newlinesAfterSelection = breaksAfter ? breaksAfter[0].length : 0;\n    let newlinesToAppend;\n    let newlinesToPrepend;\n    if (beforeSelection.match(/\\S/) && newlinesBeforeSelection < 2) {\n        newlinesToAppend = repeat('\\n', 2 - newlinesBeforeSelection);\n    }\n    if (afterSelection.match(/\\S/) && newlinesAfterSelection < 2) {\n        newlinesToPrepend = repeat('\\n', 2 - newlinesAfterSelection);\n    }\n    if (newlinesToAppend == null) {\n        newlinesToAppend = '';\n    }\n    if (newlinesToPrepend == null) {\n        newlinesToPrepend = '';\n    }\n    return { newlinesToAppend, newlinesToPrepend };\n}\nfunction blockStyle(textarea, arg) {\n    let newlinesToAppend;\n    let newlinesToPrepend;\n    const { prefix, suffix, blockPrefix, blockSuffix, replaceNext, prefixSpace, scanFor, surroundWithNewlines } = arg;\n    const originalSelectionStart = textarea.selectionStart;\n    const originalSelectionEnd = textarea.selectionEnd;\n    let selectedText = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    let prefixToUse = isMultipleLines(selectedText) && blockPrefix.length > 0 ? `${blockPrefix}\\n` : prefix;\n    let suffixToUse = isMultipleLines(selectedText) && blockSuffix.length > 0 ? `\\n${blockSuffix}` : suffix;\n    if (prefixSpace) {\n        const beforeSelection = textarea.value[textarea.selectionStart - 1];\n        if (textarea.selectionStart !== 0 && beforeSelection != null && !beforeSelection.match(/\\s/)) {\n            prefixToUse = ` ${prefixToUse}`;\n        }\n    }\n    selectedText = expandSelectedText(textarea, prefixToUse, suffixToUse, arg.multiline);\n    let selectionStart = textarea.selectionStart;\n    let selectionEnd = textarea.selectionEnd;\n    const hasReplaceNext = replaceNext.length > 0 && suffixToUse.indexOf(replaceNext) > -1 && selectedText.length > 0;\n    if (surroundWithNewlines) {\n        const ref = newlinesToSurroundSelectedText(textarea);\n        newlinesToAppend = ref.newlinesToAppend;\n        newlinesToPrepend = ref.newlinesToPrepend;\n        prefixToUse = newlinesToAppend + prefix;\n        suffixToUse += newlinesToPrepend;\n    }\n    if (selectedText.startsWith(prefixToUse) && selectedText.endsWith(suffixToUse)) {\n        const replacementText = selectedText.slice(prefixToUse.length, selectedText.length - suffixToUse.length);\n        if (originalSelectionStart === originalSelectionEnd) {\n            let position = originalSelectionStart - prefixToUse.length;\n            position = Math.max(position, selectionStart);\n            position = Math.min(position, selectionStart + replacementText.length);\n            selectionStart = selectionEnd = position;\n        }\n        else {\n            selectionEnd = selectionStart + replacementText.length;\n        }\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n    else if (!hasReplaceNext) {\n        let replacementText = prefixToUse + selectedText + suffixToUse;\n        selectionStart = originalSelectionStart + prefixToUse.length;\n        selectionEnd = originalSelectionEnd + prefixToUse.length;\n        const whitespaceEdges = selectedText.match(/^\\s*|\\s*$/g);\n        if (arg.trimFirst && whitespaceEdges) {\n            const leadingWhitespace = whitespaceEdges[0] || '';\n            const trailingWhitespace = whitespaceEdges[1] || '';\n            replacementText = leadingWhitespace + prefixToUse + selectedText.trim() + suffixToUse + trailingWhitespace;\n            selectionStart += leadingWhitespace.length;\n            selectionEnd -= trailingWhitespace.length;\n        }\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n    else if (scanFor.length > 0 && selectedText.match(scanFor)) {\n        suffixToUse = suffixToUse.replace(replaceNext, selectedText);\n        const replacementText = prefixToUse + suffixToUse;\n        selectionStart = selectionEnd = selectionStart + prefixToUse.length;\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n    else {\n        const replacementText = prefixToUse + selectedText + suffixToUse;\n        selectionStart = selectionStart + prefixToUse.length + selectedText.length + suffixToUse.indexOf(replaceNext);\n        selectionEnd = selectionStart + replaceNext.length;\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n}\nfunction multilineStyle(textarea, arg) {\n    const { prefix, suffix, surroundWithNewlines } = arg;\n    let text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    let selectionStart = textarea.selectionStart;\n    let selectionEnd = textarea.selectionEnd;\n    const lines = text.split('\\n');\n    const undoStyle = lines.every(line => line.startsWith(prefix) && line.endsWith(suffix));\n    if (undoStyle) {\n        text = lines.map(line => line.slice(prefix.length, line.length - suffix.length)).join('\\n');\n        selectionEnd = selectionStart + text.length;\n    }\n    else {\n        text = lines.map(line => prefix + line + suffix).join('\\n');\n        if (surroundWithNewlines) {\n            const { newlinesToAppend, newlinesToPrepend } = newlinesToSurroundSelectedText(textarea);\n            selectionStart += newlinesToAppend.length;\n            selectionEnd = selectionStart + text.length;\n            text = newlinesToAppend + text + newlinesToPrepend;\n        }\n    }\n    return { text, selectionStart, selectionEnd };\n}\nfunction undoOrderedListStyle(text) {\n    const lines = text.split('\\n');\n    const orderedListRegex = /^\\d+\\.\\s+/;\n    const shouldUndoOrderedList = lines.every(line => orderedListRegex.test(line));\n    let result = lines;\n    if (shouldUndoOrderedList) {\n        result = lines.map(line => line.replace(orderedListRegex, ''));\n    }\n    return {\n        text: result.join('\\n'),\n        processed: shouldUndoOrderedList\n    };\n}\nfunction undoUnorderedListStyle(text) {\n    const lines = text.split('\\n');\n    const unorderedListPrefix = '- ';\n    const shouldUndoUnorderedList = lines.every(line => line.startsWith(unorderedListPrefix));\n    let result = lines;\n    if (shouldUndoUnorderedList) {\n        result = lines.map(line => line.slice(unorderedListPrefix.length, line.length));\n    }\n    return {\n        text: result.join('\\n'),\n        processed: shouldUndoUnorderedList\n    };\n}\nfunction makePrefix(index, unorderedList) {\n    if (unorderedList) {\n        return '- ';\n    }\n    else {\n        return `${index + 1}. `;\n    }\n}\nfunction clearExistingListStyle(style, selectedText) {\n    let undoResultOpositeList;\n    let undoResult;\n    let pristineText;\n    if (style.orderedList) {\n        undoResult = undoOrderedListStyle(selectedText);\n        undoResultOpositeList = undoUnorderedListStyle(undoResult.text);\n        pristineText = undoResultOpositeList.text;\n    }\n    else {\n        undoResult = undoUnorderedListStyle(selectedText);\n        undoResultOpositeList = undoOrderedListStyle(undoResult.text);\n        pristineText = undoResultOpositeList.text;\n    }\n    return [undoResult, undoResultOpositeList, pristineText];\n}\nfunction listStyle(textarea, style) {\n    const noInitialSelection = textarea.selectionStart === textarea.selectionEnd;\n    let selectionStart = textarea.selectionStart;\n    let selectionEnd = textarea.selectionEnd;\n    expandSelectionToLine(textarea);\n    const selectedText = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    const [undoResult, undoResultOpositeList, pristineText] = clearExistingListStyle(style, selectedText);\n    const prefixedLines = pristineText.split('\\n').map((value, index) => {\n        return `${makePrefix(index, style.unorderedList)}${value}`;\n    });\n    const totalPrefixLength = prefixedLines.reduce((previousValue, _currentValue, currentIndex) => {\n        return previousValue + makePrefix(currentIndex, style.unorderedList).length;\n    }, 0);\n    const totalPrefixLengthOpositeList = prefixedLines.reduce((previousValue, _currentValue, currentIndex) => {\n        return previousValue + makePrefix(currentIndex, !style.unorderedList).length;\n    }, 0);\n    if (undoResult.processed) {\n        if (noInitialSelection) {\n            selectionStart = Math.max(selectionStart - makePrefix(0, style.unorderedList).length, 0);\n            selectionEnd = selectionStart;\n        }\n        else {\n            selectionStart = textarea.selectionStart;\n            selectionEnd = textarea.selectionEnd - totalPrefixLength;\n        }\n        return { text: pristineText, selectionStart, selectionEnd };\n    }\n    const { newlinesToAppend, newlinesToPrepend } = newlinesToSurroundSelectedText(textarea);\n    const text = newlinesToAppend + prefixedLines.join('\\n') + newlinesToPrepend;\n    if (noInitialSelection) {\n        selectionStart = Math.max(selectionStart + makePrefix(0, style.unorderedList).length + newlinesToAppend.length, 0);\n        selectionEnd = selectionStart;\n    }\n    else {\n        if (undoResultOpositeList.processed) {\n            selectionStart = Math.max(textarea.selectionStart + newlinesToAppend.length, 0);\n            selectionEnd = textarea.selectionEnd + newlinesToAppend.length + totalPrefixLength - totalPrefixLengthOpositeList;\n        }\n        else {\n            selectionStart = Math.max(textarea.selectionStart + newlinesToAppend.length, 0);\n            selectionEnd = textarea.selectionEnd + newlinesToAppend.length + totalPrefixLength;\n        }\n    }\n    return { text, selectionStart, selectionEnd };\n}\nfunction applyStyle(button, stylesToApply) {\n    const toolbar = button.closest('markdown-toolbar');\n    if (!(toolbar instanceof MarkdownToolbarElement))\n        return;\n    const defaults = {\n        prefix: '',\n        suffix: '',\n        blockPrefix: '',\n        blockSuffix: '',\n        multiline: false,\n        replaceNext: '',\n        prefixSpace: false,\n        scanFor: '',\n        surroundWithNewlines: false,\n        orderedList: false,\n        unorderedList: false,\n        trimFirst: false\n    };\n    const style = Object.assign(Object.assign({}, defaults), stylesToApply);\n    const field = toolbar.field;\n    if (field) {\n        field.focus();\n        styleSelectedText(field, style);\n    }\n}\nexport default MarkdownToolbarElement;\n","const sortHandlers = new WeakMap();\nlet state = null;\nfunction isDragging() {\n    return !!state;\n}\nfunction sortable(el, sortStarted, sortFinished) {\n    sortHandlers.set(el, { sortStarted, sortFinished });\n    el.addEventListener('dragstart', onDragStart);\n    el.addEventListener('dragenter', onDragEnter);\n    el.addEventListener('dragend', onDragEnd);\n    el.addEventListener('drop', onDrop);\n    el.addEventListener('dragover', onDragOver);\n}\nfunction isBefore(item1, item2) {\n    if (item1.parentNode === item2.parentNode) {\n        let node = item1;\n        while (node) {\n            if (node === item2)\n                return true;\n            node = node.previousElementSibling;\n        }\n    }\n    return false;\n}\nfunction isSameContainer(item1, item2) {\n    return item1.closest('task-lists') === item2.closest('task-lists');\n}\nfunction onDragStart(event) {\n    if (event.currentTarget !== event.target)\n        return;\n    const target = event.currentTarget;\n    if (!(target instanceof Element))\n        return;\n    const sourceList = target.closest('.contains-task-list');\n    if (!sourceList)\n        return;\n    target.classList.add('is-ghost');\n    if (event.dataTransfer) {\n        event.dataTransfer.setData('text/plain', (target.textContent || '').trim());\n    }\n    if (!target.parentElement)\n        return;\n    const siblings = Array.from(target.parentElement.children);\n    const sourceIndex = siblings.indexOf(target);\n    const handlers = sortHandlers.get(target);\n    if (handlers) {\n        handlers.sortStarted(sourceList);\n    }\n    state = {\n        didDrop: false,\n        dragging: target,\n        dropzone: target,\n        sourceList,\n        sourceSibling: siblings[sourceIndex + 1] || null,\n        sourceIndex\n    };\n}\nfunction onDragEnter(event) {\n    if (!state)\n        return;\n    const dropzone = event.currentTarget;\n    if (!(dropzone instanceof Element))\n        return;\n    if (!isSameContainer(state.dragging, dropzone)) {\n        event.stopPropagation();\n        return;\n    }\n    event.preventDefault();\n    if (event.dataTransfer) {\n        event.dataTransfer.dropEffect = 'move';\n    }\n    if (state.dropzone === dropzone)\n        return;\n    state.dragging.classList.add('is-dragging');\n    state.dropzone = dropzone;\n    if (isBefore(state.dragging, dropzone)) {\n        dropzone.before(state.dragging);\n    }\n    else {\n        dropzone.after(state.dragging);\n    }\n}\nfunction onDrop(event) {\n    if (!state)\n        return;\n    event.preventDefault();\n    event.stopPropagation();\n    const dropzone = event.currentTarget;\n    if (!(dropzone instanceof Element))\n        return;\n    state.didDrop = true;\n    if (!state.dragging.parentElement)\n        return;\n    let newIndex = Array.from(state.dragging.parentElement.children).indexOf(state.dragging);\n    const currentList = dropzone.closest('.contains-task-list');\n    if (!currentList)\n        return;\n    if (state.sourceIndex === newIndex && state.sourceList === currentList)\n        return;\n    if (state.sourceList === currentList && state.sourceIndex < newIndex) {\n        newIndex++;\n    }\n    const src = { list: state.sourceList, index: state.sourceIndex };\n    const dst = { list: currentList, index: newIndex };\n    const handlers = sortHandlers.get(state.dragging);\n    if (handlers) {\n        handlers.sortFinished({ src, dst });\n    }\n}\nfunction onDragEnd() {\n    if (!state)\n        return;\n    state.dragging.classList.remove('is-dragging');\n    state.dragging.classList.remove('is-ghost');\n    if (!state.didDrop) {\n        state.sourceList.insertBefore(state.dragging, state.sourceSibling);\n    }\n    state = null;\n}\nfunction onDragOver(event) {\n    if (!state)\n        return;\n    const dropzone = event.currentTarget;\n    if (!(dropzone instanceof Element))\n        return;\n    if (!isSameContainer(state.dragging, dropzone)) {\n        event.stopPropagation();\n        return;\n    }\n    event.preventDefault();\n    if (event.dataTransfer) {\n        event.dataTransfer.dropEffect = 'move';\n    }\n}\n\nconst observers = new WeakMap();\nclass TaskListsElement extends HTMLElement {\n    connectedCallback() {\n        this.addEventListener('change', (event) => {\n            const checkbox = event.target;\n            if (!(checkbox instanceof HTMLInputElement))\n                return;\n            if (!checkbox.classList.contains('task-list-item-checkbox'))\n                return;\n            this.dispatchEvent(new CustomEvent('task-lists-check', {\n                bubbles: true,\n                detail: {\n                    position: position(checkbox),\n                    checked: checkbox.checked\n                }\n            }));\n        });\n        const observer = new MutationObserver(syncState.bind(null, this));\n        observers.set(this, observer);\n        observer.observe(this, { childList: true, subtree: true });\n        syncState(this);\n    }\n    disconnectedCallback() {\n        const observer = observers.get(this);\n        if (observer) {\n            observer.disconnect();\n        }\n    }\n    get disabled() {\n        return this.hasAttribute('disabled');\n    }\n    set disabled(value) {\n        if (value) {\n            this.setAttribute('disabled', '');\n        }\n        else {\n            this.removeAttribute('disabled');\n        }\n    }\n    get sortable() {\n        return this.hasAttribute('sortable');\n    }\n    set sortable(value) {\n        if (value) {\n            this.setAttribute('sortable', '');\n        }\n        else {\n            this.removeAttribute('sortable');\n        }\n    }\n    static get observedAttributes() {\n        return ['disabled'];\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue === newValue)\n            return;\n        switch (name) {\n            case 'disabled':\n                syncDisabled(this);\n                break;\n        }\n    }\n}\nconst handleTemplate = document.createElement('template');\nhandleTemplate.innerHTML = `\n  <span class=\"handle\">\n    <svg class=\"drag-handle\" aria-hidden=\"true\" width=\"16\" height=\"16\">\n      <path d=\"M10 13a1 1 0 100-2 1 1 0 000 2zm-4 0a1 1 0 100-2 1 1 0 000 2zm1-5a1 1 0 11-2 0 1 1 0 012 0zm3 1a1 1 0 100-2 1 1 0 000 2zm1-5a1 1 0 11-2 0 1 1 0 012 0zM6 5a1 1 0 100-2 1 1 0 000 2z\"/>\n    </svg>\n  </span>`;\nconst initialized = new WeakMap();\nfunction initItem(el) {\n    if (initialized.get(el))\n        return;\n    initialized.set(el, true);\n    const currentTaskList = el.closest('task-lists');\n    if (!(currentTaskList instanceof TaskListsElement))\n        return;\n    if (currentTaskList.querySelectorAll('.task-list-item').length <= 1)\n        return;\n    const fragment = handleTemplate.content.cloneNode(true);\n    const handle = fragment.querySelector('.handle');\n    el.prepend(fragment);\n    if (!handle)\n        throw new Error('handle not found');\n    handle.addEventListener('mouseenter', onHandleMouseOver);\n    handle.addEventListener('mouseleave', onHandleMouseOut);\n    sortable(el, onSortStart, onSorted);\n    el.addEventListener('mouseenter', onListItemMouseOver);\n    el.addEventListener('mouseleave', onListItemMouseOut);\n}\nfunction onListItemMouseOver(event) {\n    const item = event.currentTarget;\n    if (!(item instanceof Element))\n        return;\n    const list = item.closest('task-lists');\n    if (!(list instanceof TaskListsElement))\n        return;\n    if (list.sortable && !list.disabled) {\n        item.classList.add('hovered');\n    }\n}\nfunction onListItemMouseOut(event) {\n    const item = event.currentTarget;\n    if (!(item instanceof Element))\n        return;\n    item.classList.remove('hovered');\n}\nfunction position(checkbox) {\n    const list = taskList(checkbox);\n    if (!list)\n        throw new Error('.contains-task-list not found');\n    const item = checkbox.closest('.task-list-item');\n    const listItems = Array.from(list.children).filter(el => el.tagName === 'LI');\n    const index = item ? listItems.indexOf(item) : -1;\n    return [listIndex(list), index];\n}\nfunction taskList(el) {\n    const parent = el.parentElement;\n    return parent ? parent.closest('.contains-task-list') : null;\n}\nfunction isRootTaskList(el) {\n    return taskList(el) === rootTaskList(el);\n}\nfunction rootTaskList(node) {\n    const list = taskList(node);\n    return list ? rootTaskList(list) || list : null;\n}\nfunction syncState(list) {\n    const items = list.querySelectorAll('.contains-task-list > .task-list-item');\n    for (const el of items) {\n        if (isRootTaskList(el)) {\n            initItem(el);\n        }\n    }\n    syncDisabled(list);\n}\nfunction syncDisabled(list) {\n    for (const el of list.querySelectorAll('.task-list-item')) {\n        el.classList.toggle('enabled', !list.disabled);\n    }\n    for (const el of list.querySelectorAll('.task-list-item-checkbox')) {\n        if (el instanceof HTMLInputElement) {\n            el.disabled = list.disabled;\n        }\n    }\n}\nfunction listIndex(list) {\n    const container = list.closest('task-lists');\n    if (!container)\n        throw new Error('parent not found');\n    return Array.from(container.querySelectorAll('ol, ul')).indexOf(list);\n}\nconst originalLists = new WeakMap();\nfunction onSortStart(srcList) {\n    const container = srcList.closest('task-lists');\n    if (!container)\n        throw new Error('parent not found');\n    originalLists.set(container, Array.from(container.querySelectorAll('ol, ul')));\n}\nfunction onSorted({ src, dst }) {\n    const container = src.list.closest('task-lists');\n    if (!container)\n        return;\n    const lists = originalLists.get(container);\n    if (!lists)\n        return;\n    originalLists.delete(container);\n    container.dispatchEvent(new CustomEvent('task-lists-move', {\n        bubbles: true,\n        detail: {\n            src: [lists.indexOf(src.list), src.index],\n            dst: [lists.indexOf(dst.list), dst.index]\n        }\n    }));\n}\nfunction onHandleMouseOver(event) {\n    const target = event.currentTarget;\n    if (!(target instanceof Element))\n        return;\n    const item = target.closest('.task-list-item');\n    if (!item)\n        return;\n    const list = item.closest('task-lists');\n    if (!(list instanceof TaskListsElement))\n        return;\n    if (list.sortable && !list.disabled) {\n        item.setAttribute('draggable', 'true');\n    }\n}\nfunction onHandleMouseOut(event) {\n    if (isDragging())\n        return;\n    const target = event.currentTarget;\n    if (!(target instanceof Element))\n        return;\n    const item = target.closest('.task-list-item');\n    if (!item)\n        return;\n    item.setAttribute('draggable', 'false');\n}\nif (!window.customElements.get('task-lists')) {\n    window.TaskListsElement = TaskListsElement;\n    window.customElements.define('task-lists', TaskListsElement);\n}\n\nexport { TaskListsElement as default };\n","import Combobox from '@github/combobox-nav';\n\nconst boundary = /\\s|\\(|\\[/;\nfunction query(text, key, cursor, { multiWord, lookBackIndex, lastMatchPosition } = {\n    multiWord: false,\n    lookBackIndex: 0,\n    lastMatchPosition: null\n}) {\n    let keyIndex = text.lastIndexOf(key, cursor - 1);\n    if (keyIndex === -1)\n        return;\n    if (keyIndex < lookBackIndex)\n        return;\n    if (multiWord) {\n        if (lastMatchPosition != null) {\n            if (lastMatchPosition === keyIndex)\n                return;\n            keyIndex = lastMatchPosition - key.length;\n        }\n        const charAfterKey = text[keyIndex + 1];\n        if (charAfterKey === ' ' && cursor >= keyIndex + key.length + 1)\n            return;\n        const newLineIndex = text.lastIndexOf('\\n', cursor - 1);\n        if (newLineIndex > keyIndex)\n            return;\n        const dotIndex = text.lastIndexOf('.', cursor - 1);\n        if (dotIndex > keyIndex)\n            return;\n    }\n    else {\n        const spaceIndex = text.lastIndexOf(' ', cursor - 1);\n        if (spaceIndex > keyIndex)\n            return;\n    }\n    const pre = text[keyIndex - 1];\n    if (pre && !boundary.test(pre))\n        return;\n    const queryString = text.substring(keyIndex + key.length, cursor);\n    return {\n        text: queryString,\n        position: keyIndex + key.length\n    };\n}\n\nconst properties = ['position:absolute;', 'overflow:auto;', 'word-wrap:break-word;', 'top:0px;', 'left:-9999px;'];\nconst propertyNamesToCopy = [\n    'box-sizing',\n    'font-family',\n    'font-size',\n    'font-style',\n    'font-variant',\n    'font-weight',\n    'height',\n    'letter-spacing',\n    'line-height',\n    'max-height',\n    'min-height',\n    'padding-bottom',\n    'padding-left',\n    'padding-right',\n    'padding-top',\n    'border-bottom',\n    'border-left',\n    'border-right',\n    'border-top',\n    'text-decoration',\n    'text-indent',\n    'text-transform',\n    'width',\n    'word-spacing'\n];\nconst mirrorMap = new WeakMap();\nfunction textFieldMirror(textField, markerPosition) {\n    const nodeName = textField.nodeName.toLowerCase();\n    if (nodeName !== 'textarea' && nodeName !== 'input') {\n        throw new Error('expected textField to a textarea or input');\n    }\n    let mirror = mirrorMap.get(textField);\n    if (mirror && mirror.parentElement === textField.parentElement) {\n        mirror.innerHTML = '';\n    }\n    else {\n        mirror = document.createElement('div');\n        mirrorMap.set(textField, mirror);\n        const style = window.getComputedStyle(textField);\n        const props = properties.slice(0);\n        if (nodeName === 'textarea') {\n            props.push('white-space:pre-wrap;');\n        }\n        else {\n            props.push('white-space:nowrap;');\n        }\n        for (let i = 0, len = propertyNamesToCopy.length; i < len; i++) {\n            const name = propertyNamesToCopy[i];\n            props.push(`${name}:${style.getPropertyValue(name)};`);\n        }\n        mirror.style.cssText = props.join(' ');\n    }\n    const marker = document.createElement('span');\n    marker.style.cssText = 'position: absolute;';\n    marker.innerHTML = '&nbsp;';\n    let before;\n    let after;\n    if (typeof markerPosition === 'number') {\n        let text = textField.value.substring(0, markerPosition);\n        if (text) {\n            before = document.createTextNode(text);\n        }\n        text = textField.value.substring(markerPosition);\n        if (text) {\n            after = document.createTextNode(text);\n        }\n    }\n    else {\n        const text = textField.value;\n        if (text) {\n            before = document.createTextNode(text);\n        }\n    }\n    if (before) {\n        mirror.appendChild(before);\n    }\n    mirror.appendChild(marker);\n    if (after) {\n        mirror.appendChild(after);\n    }\n    if (!mirror.parentElement) {\n        if (!textField.parentElement) {\n            throw new Error('textField must have a parentElement to mirror');\n        }\n        textField.parentElement.insertBefore(mirror, textField);\n    }\n    mirror.scrollTop = textField.scrollTop;\n    mirror.scrollLeft = textField.scrollLeft;\n    return { mirror, marker };\n}\n\nfunction textFieldSelectionPosition(field, index = field.selectionEnd) {\n    const { mirror, marker } = textFieldMirror(field, index);\n    const mirrorRect = mirror.getBoundingClientRect();\n    const markerRect = marker.getBoundingClientRect();\n    setTimeout(() => {\n        mirror.remove();\n    }, 5000);\n    return {\n        top: markerRect.top - mirrorRect.top,\n        left: markerRect.left - mirrorRect.left\n    };\n}\n\nconst states = new WeakMap();\nclass TextExpander {\n    constructor(expander, input) {\n        this.expander = expander;\n        this.input = input;\n        this.combobox = null;\n        this.menu = null;\n        this.match = null;\n        this.justPasted = false;\n        this.lookBackIndex = 0;\n        this.oninput = this.onInput.bind(this);\n        this.onpaste = this.onPaste.bind(this);\n        this.onkeydown = this.onKeydown.bind(this);\n        this.oncommit = this.onCommit.bind(this);\n        this.onmousedown = this.onMousedown.bind(this);\n        this.onblur = this.onBlur.bind(this);\n        this.interactingWithList = false;\n        input.addEventListener('paste', this.onpaste);\n        input.addEventListener('input', this.oninput);\n        input.addEventListener('keydown', this.onkeydown);\n        input.addEventListener('blur', this.onblur);\n    }\n    destroy() {\n        this.input.removeEventListener('paste', this.onpaste);\n        this.input.removeEventListener('input', this.oninput);\n        this.input.removeEventListener('keydown', this.onkeydown);\n        this.input.removeEventListener('blur', this.onblur);\n    }\n    dismissMenu() {\n        if (this.deactivate()) {\n            this.lookBackIndex = this.input.selectionEnd || this.lookBackIndex;\n        }\n    }\n    activate(match, menu) {\n        var _a, _b;\n        if (this.input !== document.activeElement && this.input !== ((_b = (_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.shadowRoot) === null || _b === void 0 ? void 0 : _b.activeElement)) {\n            return;\n        }\n        this.deactivate();\n        this.menu = menu;\n        if (!menu.id)\n            menu.id = `text-expander-${Math.floor(Math.random() * 100000).toString()}`;\n        this.expander.append(menu);\n        this.combobox = new Combobox(this.input, menu);\n        const { top, left } = textFieldSelectionPosition(this.input, match.position);\n        menu.style.top = `${top}px`;\n        menu.style.left = `${left}px`;\n        this.combobox.start();\n        menu.addEventListener('combobox-commit', this.oncommit);\n        menu.addEventListener('mousedown', this.onmousedown);\n        this.combobox.navigate(1);\n    }\n    deactivate() {\n        const menu = this.menu;\n        if (!menu || !this.combobox)\n            return false;\n        this.menu = null;\n        menu.removeEventListener('combobox-commit', this.oncommit);\n        menu.removeEventListener('mousedown', this.onmousedown);\n        this.combobox.destroy();\n        this.combobox = null;\n        menu.remove();\n        return true;\n    }\n    onCommit({ target }) {\n        const item = target;\n        if (!(item instanceof HTMLElement))\n            return;\n        if (!this.combobox)\n            return;\n        const match = this.match;\n        if (!match)\n            return;\n        const beginning = this.input.value.substring(0, match.position - match.key.length);\n        const remaining = this.input.value.substring(match.position + match.text.length);\n        const detail = { item, key: match.key, value: null };\n        const canceled = !this.expander.dispatchEvent(new CustomEvent('text-expander-value', { cancelable: true, detail }));\n        if (canceled)\n            return;\n        if (!detail.value)\n            return;\n        const value = `${detail.value} `;\n        this.input.value = beginning + value + remaining;\n        const cursor = beginning.length + value.length;\n        this.deactivate();\n        this.input.focus({\n            preventScroll: true\n        });\n        this.input.selectionStart = cursor;\n        this.input.selectionEnd = cursor;\n        this.lookBackIndex = cursor;\n        this.match = null;\n    }\n    onBlur() {\n        if (this.interactingWithList) {\n            this.interactingWithList = false;\n            return;\n        }\n        this.deactivate();\n    }\n    onPaste() {\n        this.justPasted = true;\n    }\n    async onInput() {\n        if (this.justPasted) {\n            this.justPasted = false;\n            return;\n        }\n        const match = this.findMatch();\n        if (match) {\n            this.match = match;\n            const menu = await this.notifyProviders(match);\n            if (!this.match)\n                return;\n            if (menu) {\n                this.activate(match, menu);\n            }\n            else {\n                this.deactivate();\n            }\n        }\n        else {\n            this.match = null;\n            this.deactivate();\n        }\n    }\n    findMatch() {\n        const cursor = this.input.selectionEnd || 0;\n        const text = this.input.value;\n        if (cursor <= this.lookBackIndex) {\n            this.lookBackIndex = cursor - 1;\n        }\n        for (const { key, multiWord } of this.expander.keys) {\n            const found = query(text, key, cursor, {\n                multiWord,\n                lookBackIndex: this.lookBackIndex,\n                lastMatchPosition: this.match ? this.match.position : null\n            });\n            if (found) {\n                return { text: found.text, key, position: found.position };\n            }\n        }\n    }\n    async notifyProviders(match) {\n        const providers = [];\n        const provide = (result) => providers.push(result);\n        const canceled = !this.expander.dispatchEvent(new CustomEvent('text-expander-change', { cancelable: true, detail: { provide, text: match.text, key: match.key } }));\n        if (canceled)\n            return;\n        const all = await Promise.all(providers);\n        const fragments = all.filter(x => x.matched).map(x => x.fragment);\n        return fragments[0];\n    }\n    onMousedown() {\n        this.interactingWithList = true;\n    }\n    onKeydown(event) {\n        if (event.key === 'Escape') {\n            this.match = null;\n            if (this.deactivate()) {\n                this.lookBackIndex = this.input.selectionEnd || this.lookBackIndex;\n                event.stopImmediatePropagation();\n                event.preventDefault();\n            }\n        }\n    }\n}\nclass TextExpanderElement extends HTMLElement {\n    get keys() {\n        const keysAttr = this.getAttribute('keys');\n        const keys = keysAttr ? keysAttr.split(' ') : [];\n        const multiWordAttr = this.getAttribute('multiword');\n        const multiWord = multiWordAttr ? multiWordAttr.split(' ') : [];\n        const globalMultiWord = multiWord.length === 0 && this.hasAttribute('multiword');\n        return keys.map(key => ({ key, multiWord: globalMultiWord || multiWord.includes(key) }));\n    }\n    connectedCallback() {\n        const input = this.querySelector('input[type=\"text\"], textarea');\n        if (!(input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement))\n            return;\n        const state = new TextExpander(this, input);\n        states.set(this, state);\n    }\n    disconnectedCallback() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        state.destroy();\n        states.delete(this);\n    }\n    dismiss() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        state.dismissMenu();\n    }\n}\n\nif (!window.customElements.get('text-expander')) {\n    window.TextExpanderElement = TextExpanderElement;\n    window.customElements.define('text-expander', TextExpanderElement);\n}\n\nexport default TextExpanderElement;\n","const loaded = (function () {\n    if (document.readyState === 'complete') {\n        return Promise.resolve();\n    }\n    else {\n        return new Promise(resolve => {\n            window.addEventListener('load', resolve);\n        });\n    }\n})();\nclass TypingEffectElement extends HTMLElement {\n    async connectedCallback() {\n        await loaded;\n        if (this.content)\n            await typeLines(this.lines, this.content, this.characterDelay, this.lineDelay);\n        if (this.cursor)\n            this.cursor.hidden = true;\n        this.dispatchEvent(new CustomEvent('typing:complete', {\n            bubbles: true,\n            cancelable: true\n        }));\n    }\n    get content() {\n        return this.querySelector('[data-target=\"typing-effect.content\"]');\n    }\n    get cursor() {\n        return this.querySelector('[data-target=\"typing-effect.cursor\"]');\n    }\n    get lines() {\n        const linesAttr = this.getAttribute('data-lines');\n        try {\n            return linesAttr ? JSON.parse(linesAttr) : [];\n        }\n        catch (_a) {\n            return [];\n        }\n    }\n    get prefersReducedMotion() {\n        return window.matchMedia('(prefers-reduced-motion)').matches;\n    }\n    get characterDelay() {\n        if (this.prefersReducedMotion) {\n            return 0;\n        }\n        return Math.max(0, Math.min(Math.floor(Number(this.getAttribute('data-character-delay'))), 2147483647)) || 40;\n    }\n    set characterDelay(value) {\n        if (value > 2147483647 || value < 0) {\n            throw new DOMException('Value is negative or greater than the allowed amount');\n        }\n        this.setAttribute('data-character-delay', String(value));\n    }\n    get lineDelay() {\n        if (this.prefersReducedMotion) {\n            return 0;\n        }\n        return Math.max(0, Math.min(Math.floor(Number(this.getAttribute('data-line-delay'))), 2147483647)) || 40;\n    }\n    set lineDelay(value) {\n        if (value > 2147483647 || value < 0) {\n            throw new DOMException('Value is negative or greater than the allowed amount');\n        }\n        this.setAttribute('data-line-delay', String(value));\n    }\n}\nexport default TypingEffectElement;\nif (!window.customElements.get('typing-effect')) {\n    window.TypingEffectElement = TypingEffectElement;\n    window.customElements.define('typing-effect', TypingEffectElement);\n}\nasync function typeLines(lines, contentElement, characterDelay, lineDelay) {\n    for (let lineIndex = 0; lineIndex < lines.length; lineIndex++) {\n        if (characterDelay === 0) {\n            contentElement.append(lines[lineIndex]);\n        }\n        else {\n            for (const character of lines[lineIndex].split('')) {\n                await wait(characterDelay);\n                contentElement.innerHTML += character;\n            }\n        }\n        if (lineDelay !== 0)\n            await wait(lineDelay);\n        if (lineIndex < lines.length - 1)\n            contentElement.append(document.createElement('br'));\n    }\n}\nasync function wait(ms) {\n    return new Promise(resolve => {\n        setTimeout(resolve, ms);\n    });\n}\n"],"sourceRoot":""}